"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/react-simple-maps";
exports.ids = ["vendor-chunks/react-simple-maps"];
exports.modules = {

/***/ "(ssr)/./node_modules/react-simple-maps/dist/index.es.js":
/*!*********************************************************!*\
  !*** ./node_modules/react-simple-maps/dist/index.es.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Annotation: () => (/* binding */ Annotation),\n/* harmony export */   ComposableMap: () => (/* binding */ ComposableMap),\n/* harmony export */   Geographies: () => (/* binding */ Geographies),\n/* harmony export */   Geography: () => (/* binding */ Geography$1),\n/* harmony export */   Graticule: () => (/* binding */ Graticule$1),\n/* harmony export */   Line: () => (/* binding */ Line),\n/* harmony export */   MapContext: () => (/* binding */ MapContext),\n/* harmony export */   MapProvider: () => (/* binding */ MapProvider),\n/* harmony export */   Marker: () => (/* binding */ Marker),\n/* harmony export */   Sphere: () => (/* binding */ Sphere$1),\n/* harmony export */   ZoomPanContext: () => (/* binding */ ZoomPanContext),\n/* harmony export */   ZoomPanProvider: () => (/* binding */ ZoomPanProvider),\n/* harmony export */   ZoomableGroup: () => (/* binding */ ZoomableGroup),\n/* harmony export */   useGeographies: () => (/* binding */ useGeographies),\n/* harmony export */   useMapContext: () => (/* binding */ useMapContext),\n/* harmony export */   useZoomPan: () => (/* binding */ useZoomPan),\n/* harmony export */   useZoomPanContext: () => (/* binding */ useZoomPanContext)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! prop-types */ \"(ssr)/./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var d3_geo__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! d3-geo */ \"(ssr)/./node_modules/d3-geo/src/path/index.js\");\n/* harmony import */ var d3_geo__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! d3-geo */ \"(ssr)/./node_modules/d3-geo/src/index.js\");\n/* harmony import */ var d3_geo__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! d3-geo */ \"(ssr)/./node_modules/d3-geo/src/graticule.js\");\n/* harmony import */ var topojson_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! topojson-client */ \"(ssr)/./node_modules/topojson-client/src/index.js\");\n/* harmony import */ var d3_zoom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! d3-zoom */ \"(ssr)/./node_modules/d3-zoom/src/index.js\");\n/* harmony import */ var d3_selection__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! d3-selection */ \"(ssr)/./node_modules/d3-selection/src/select.js\");\n\n\n\n\n\n\n\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nvar _excluded$a = [\"width\", \"height\", \"projection\", \"projectionConfig\"];\n\nvar geoPath = d3_geo__WEBPACK_IMPORTED_MODULE_3__[\"default\"],\n    projections = _objectWithoutProperties(d3_geo__WEBPACK_IMPORTED_MODULE_4__, [\"geoPath\"]);\n\nvar MapContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)();\n\nvar makeProjection = function makeProjection(_ref) {\n  var _ref$projectionConfig = _ref.projectionConfig,\n      projectionConfig = _ref$projectionConfig === void 0 ? {} : _ref$projectionConfig,\n      _ref$projection = _ref.projection,\n      projection = _ref$projection === void 0 ? \"geoEqualEarth\" : _ref$projection,\n      _ref$width = _ref.width,\n      width = _ref$width === void 0 ? 800 : _ref$width,\n      _ref$height = _ref.height,\n      height = _ref$height === void 0 ? 600 : _ref$height;\n  var isFunc = typeof projection === \"function\";\n  if (isFunc) return projection;\n  var proj = projections[projection]().translate([width / 2, height / 2]);\n  var supported = [proj.center ? \"center\" : null, proj.rotate ? \"rotate\" : null, proj.scale ? \"scale\" : null, proj.parallels ? \"parallels\" : null];\n  supported.forEach(function (d) {\n    if (!d) return;\n    proj = proj[d](projectionConfig[d] || proj[d]());\n  });\n  return proj;\n};\n\nvar MapProvider = function MapProvider(_ref2) {\n  var width = _ref2.width,\n      height = _ref2.height,\n      projection = _ref2.projection,\n      projectionConfig = _ref2.projectionConfig,\n      restProps = _objectWithoutProperties(_ref2, _excluded$a);\n\n  var _ref3 = projectionConfig.center || [],\n      _ref4 = _slicedToArray(_ref3, 2),\n      cx = _ref4[0],\n      cy = _ref4[1];\n\n  var _ref5 = projectionConfig.rotate || [],\n      _ref6 = _slicedToArray(_ref5, 3),\n      rx = _ref6[0],\n      ry = _ref6[1],\n      rz = _ref6[2];\n\n  var _ref7 = projectionConfig.parallels || [],\n      _ref8 = _slicedToArray(_ref7, 2),\n      p1 = _ref8[0],\n      p2 = _ref8[1];\n\n  var s = projectionConfig.scale || null;\n  var projMemo = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () {\n    return makeProjection({\n      projectionConfig: {\n        center: cx || cx === 0 || cy || cy === 0 ? [cx, cy] : null,\n        rotate: rx || rx === 0 || ry || ry === 0 ? [rx, ry, rz] : null,\n        parallels: p1 || p1 === 0 || p2 || p2 === 0 ? [p1, p2] : null,\n        scale: s\n      },\n      projection: projection,\n      width: width,\n      height: height\n    });\n  }, [width, height, projection, cx, cy, rx, ry, rz, p1, p2, s]);\n  var proj = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(projMemo, [projMemo]);\n  var value = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () {\n    return {\n      width: width,\n      height: height,\n      projection: proj,\n      path: geoPath().projection(proj)\n    };\n  }, [width, height, proj]);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(MapContext.Provider, _extends({\n    value: value\n  }, restProps));\n};\n\nMapProvider.propTypes = {\n  width: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().number),\n  height: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().number),\n  projection: prop_types__WEBPACK_IMPORTED_MODULE_5___default().oneOfType([(prop_types__WEBPACK_IMPORTED_MODULE_5___default().string), (prop_types__WEBPACK_IMPORTED_MODULE_5___default().func)]),\n  projectionConfig: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().object)\n};\n\nvar useMapContext = function useMapContext() {\n  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(MapContext);\n};\n\nvar _excluded$9 = [\"width\", \"height\", \"projection\", \"projectionConfig\", \"className\"];\nvar ComposableMap = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(function (_ref, ref) {\n  var _ref$width = _ref.width,\n      width = _ref$width === void 0 ? 800 : _ref$width,\n      _ref$height = _ref.height,\n      height = _ref$height === void 0 ? 600 : _ref$height,\n      _ref$projection = _ref.projection,\n      projection = _ref$projection === void 0 ? \"geoEqualEarth\" : _ref$projection,\n      _ref$projectionConfig = _ref.projectionConfig,\n      projectionConfig = _ref$projectionConfig === void 0 ? {} : _ref$projectionConfig,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? \"\" : _ref$className,\n      restProps = _objectWithoutProperties(_ref, _excluded$9);\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(MapProvider, {\n    width: width,\n    height: height,\n    projection: projection,\n    projectionConfig: projectionConfig\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"svg\", _extends({\n    ref: ref,\n    viewBox: \"0 0 \".concat(width, \" \").concat(height),\n    className: \"rsm-svg \".concat(className)\n  }, restProps)));\n});\nComposableMap.displayName = \"ComposableMap\";\nComposableMap.propTypes = {\n  width: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().number),\n  height: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().number),\n  projection: prop_types__WEBPACK_IMPORTED_MODULE_5___default().oneOfType([(prop_types__WEBPACK_IMPORTED_MODULE_5___default().string), (prop_types__WEBPACK_IMPORTED_MODULE_5___default().func)]),\n  projectionConfig: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().object),\n  className: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().string)\n};\n\nfunction getCoords(w, h, t) {\n  var xOffset = (w * t.k - w) / 2;\n  var yOffset = (h * t.k - h) / 2;\n  return [w / 2 - (xOffset + t.x) / t.k, h / 2 - (yOffset + t.y) / t.k];\n}\nfunction fetchGeographies(url) {\n  return fetch(url).then(function (res) {\n    if (!res.ok) {\n      throw Error(res.statusText);\n    }\n\n    return res.json();\n  })[\"catch\"](function (error) {\n    console.log(\"There was a problem when fetching the data: \", error);\n  });\n}\nfunction getFeatures(geographies, parseGeographies) {\n  var isTopojson = geographies.type === \"Topology\";\n\n  if (!isTopojson) {\n    return parseGeographies ? parseGeographies(geographies.features || geographies) : geographies.features || geographies;\n  }\n\n  var feats = (0,topojson_client__WEBPACK_IMPORTED_MODULE_1__.feature)(geographies, geographies.objects[Object.keys(geographies.objects)[0]]).features;\n  return parseGeographies ? parseGeographies(feats) : feats;\n}\nfunction getMesh(geographies) {\n  var isTopojson = geographies.type === \"Topology\";\n  if (!isTopojson) return null;\n  var outline = (0,topojson_client__WEBPACK_IMPORTED_MODULE_1__.mesh)(geographies, geographies.objects[Object.keys(geographies.objects)[0]], function (a, b) {\n    return a === b;\n  });\n  var borders = (0,topojson_client__WEBPACK_IMPORTED_MODULE_1__.mesh)(geographies, geographies.objects[Object.keys(geographies.objects)[0]], function (a, b) {\n    return a !== b;\n  });\n  return {\n    outline: outline,\n    borders: borders\n  };\n}\nfunction prepareMesh(outline, borders, path) {\n  return outline && borders ? {\n    outline: _objectSpread2(_objectSpread2({}, outline), {}, {\n      rsmKey: \"outline\",\n      svgPath: path(outline)\n    }),\n    borders: _objectSpread2(_objectSpread2({}, borders), {}, {\n      rsmKey: \"borders\",\n      svgPath: path(borders)\n    })\n  } : {};\n}\nfunction prepareFeatures(geographies, path) {\n  return geographies ? geographies.map(function (d, i) {\n    return _objectSpread2(_objectSpread2({}, d), {}, {\n      rsmKey: \"geo-\".concat(i),\n      svgPath: path(d)\n    });\n  }) : [];\n}\nfunction createConnectorPath() {\n  var dx = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 30;\n  var dy = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 30;\n  var curve = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0.5;\n  var curvature = Array.isArray(curve) ? curve : [curve, curve];\n  var curveX = dx / 2 * curvature[0];\n  var curveY = dy / 2 * curvature[1];\n  return \"M\".concat(0, \",\", 0, \" Q\", -dx / 2 - curveX, \",\").concat(-dy / 2 + curveY, \" \").concat(-dx, \",\").concat(-dy);\n}\nfunction isString(geo) {\n  return typeof geo === \"string\";\n}\n\nfunction useGeographies(_ref) {\n  var geography = _ref.geography,\n      parseGeographies = _ref.parseGeographies;\n\n  var _useContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(MapContext),\n      path = _useContext.path;\n\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      output = _useState2[0],\n      setOutput = _useState2[1];\n\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n    if ((typeof window === \"undefined\" ? \"undefined\" : _typeof(window)) === \"undefined\") return;\n    if (!geography) return;\n\n    if (isString(geography)) {\n      fetchGeographies(geography).then(function (geos) {\n        if (geos) {\n          setOutput({\n            geographies: getFeatures(geos, parseGeographies),\n            mesh: getMesh(geos)\n          });\n        }\n      });\n    } else {\n      setOutput({\n        geographies: getFeatures(geography, parseGeographies),\n        mesh: getMesh(geography)\n      });\n    }\n  }, [geography, parseGeographies]);\n\n  var _useMemo = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () {\n    var mesh = output.mesh || {};\n    var preparedMesh = prepareMesh(mesh.outline, mesh.borders, path);\n    return {\n      geographies: prepareFeatures(output.geographies, path),\n      outline: preparedMesh.outline,\n      borders: preparedMesh.borders\n    };\n  }, [output, path]),\n      geographies = _useMemo.geographies,\n      outline = _useMemo.outline,\n      borders = _useMemo.borders;\n\n  return {\n    geographies: geographies,\n    outline: outline,\n    borders: borders\n  };\n}\n\nvar _excluded$8 = [\"geography\", \"children\", \"parseGeographies\", \"className\"];\nvar Geographies = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(function (_ref, ref) {\n  var geography = _ref.geography,\n      children = _ref.children,\n      parseGeographies = _ref.parseGeographies,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? \"\" : _ref$className,\n      restProps = _objectWithoutProperties(_ref, _excluded$8);\n\n  var _useContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(MapContext),\n      path = _useContext.path,\n      projection = _useContext.projection;\n\n  var _useGeographies = useGeographies({\n    geography: geography,\n    parseGeographies: parseGeographies\n  }),\n      geographies = _useGeographies.geographies,\n      outline = _useGeographies.outline,\n      borders = _useGeographies.borders;\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"g\", _extends({\n    ref: ref,\n    className: \"rsm-geographies \".concat(className)\n  }, restProps), geographies && geographies.length > 0 && children({\n    geographies: geographies,\n    outline: outline,\n    borders: borders,\n    path: path,\n    projection: projection\n  }));\n});\nGeographies.displayName = \"Geographies\";\nGeographies.propTypes = {\n  geography: prop_types__WEBPACK_IMPORTED_MODULE_5___default().oneOfType([(prop_types__WEBPACK_IMPORTED_MODULE_5___default().string), (prop_types__WEBPACK_IMPORTED_MODULE_5___default().object), (prop_types__WEBPACK_IMPORTED_MODULE_5___default().array)]),\n  children: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().func),\n  parseGeographies: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().func),\n  className: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().string)\n};\n\nvar _excluded$7 = [\"geography\", \"onMouseEnter\", \"onMouseLeave\", \"onMouseDown\", \"onMouseUp\", \"onFocus\", \"onBlur\", \"style\", \"className\"];\nvar Geography = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(function (_ref, ref) {\n  var geography = _ref.geography,\n      onMouseEnter = _ref.onMouseEnter,\n      onMouseLeave = _ref.onMouseLeave,\n      onMouseDown = _ref.onMouseDown,\n      onMouseUp = _ref.onMouseUp,\n      onFocus = _ref.onFocus,\n      onBlur = _ref.onBlur,\n      _ref$style = _ref.style,\n      style = _ref$style === void 0 ? {} : _ref$style,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? \"\" : _ref$className,\n      restProps = _objectWithoutProperties(_ref, _excluded$7);\n\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isPressed = _useState2[0],\n      setPressed = _useState2[1];\n\n  var _useState3 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      isFocused = _useState4[0],\n      setFocus = _useState4[1];\n\n  function handleMouseEnter(evt) {\n    setFocus(true);\n    if (onMouseEnter) onMouseEnter(evt);\n  }\n\n  function handleMouseLeave(evt) {\n    setFocus(false);\n    if (isPressed) setPressed(false);\n    if (onMouseLeave) onMouseLeave(evt);\n  }\n\n  function handleFocus(evt) {\n    setFocus(true);\n    if (onFocus) onFocus(evt);\n  }\n\n  function handleBlur(evt) {\n    setFocus(false);\n    if (isPressed) setPressed(false);\n    if (onBlur) onBlur(evt);\n  }\n\n  function handleMouseDown(evt) {\n    setPressed(true);\n    if (onMouseDown) onMouseDown(evt);\n  }\n\n  function handleMouseUp(evt) {\n    setPressed(false);\n    if (onMouseUp) onMouseUp(evt);\n  }\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"path\", _extends({\n    ref: ref,\n    tabIndex: \"0\",\n    className: \"rsm-geography \".concat(className),\n    d: geography.svgPath,\n    onMouseEnter: handleMouseEnter,\n    onMouseLeave: handleMouseLeave,\n    onFocus: handleFocus,\n    onBlur: handleBlur,\n    onMouseDown: handleMouseDown,\n    onMouseUp: handleMouseUp,\n    style: style[isPressed || isFocused ? isPressed ? \"pressed\" : \"hover\" : \"default\"]\n  }, restProps));\n});\nGeography.displayName = \"Geography\";\nGeography.propTypes = {\n  geography: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().object),\n  onMouseEnter: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().func),\n  onMouseLeave: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().func),\n  onMouseDown: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().func),\n  onMouseUp: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().func),\n  onFocus: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().func),\n  onBlur: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().func),\n  style: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().object),\n  className: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().string)\n};\nvar Geography$1 = (0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(Geography);\n\nvar _excluded$6 = [\"fill\", \"stroke\", \"step\", \"className\"];\nvar Graticule = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(function (_ref, ref) {\n  var _ref$fill = _ref.fill,\n      fill = _ref$fill === void 0 ? \"transparent\" : _ref$fill,\n      _ref$stroke = _ref.stroke,\n      stroke = _ref$stroke === void 0 ? \"currentcolor\" : _ref$stroke,\n      _ref$step = _ref.step,\n      step = _ref$step === void 0 ? [10, 10] : _ref$step,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? \"\" : _ref$className,\n      restProps = _objectWithoutProperties(_ref, _excluded$6);\n\n  var _useContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(MapContext),\n      path = _useContext.path;\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"path\", _extends({\n    ref: ref,\n    d: path((0,d3_geo__WEBPACK_IMPORTED_MODULE_6__[\"default\"])().step(step)()),\n    fill: fill,\n    stroke: stroke,\n    className: \"rsm-graticule \".concat(className)\n  }, restProps));\n});\nGraticule.displayName = \"Graticule\";\nGraticule.propTypes = {\n  fill: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().string),\n  stroke: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().string),\n  step: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().array),\n  className: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().string)\n};\nvar Graticule$1 = (0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(Graticule);\n\nvar _excluded$5 = [\"value\"];\nvar ZoomPanContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)();\nvar defaultValue = {\n  x: 0,\n  y: 0,\n  k: 1,\n  transformString: \"translate(0 0) scale(1)\"\n};\n\nvar ZoomPanProvider = function ZoomPanProvider(_ref) {\n  var _ref$value = _ref.value,\n      value = _ref$value === void 0 ? defaultValue : _ref$value,\n      restProps = _objectWithoutProperties(_ref, _excluded$5);\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(ZoomPanContext.Provider, _extends({\n    value: value\n  }, restProps));\n};\n\nZoomPanProvider.propTypes = {\n  x: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().number),\n  y: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().number),\n  k: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().number),\n  transformString: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().string)\n};\n\nvar useZoomPanContext = function useZoomPanContext() {\n  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(ZoomPanContext);\n};\n\nfunction useZoomPan(_ref) {\n  var center = _ref.center,\n      filterZoomEvent = _ref.filterZoomEvent,\n      onMoveStart = _ref.onMoveStart,\n      onMoveEnd = _ref.onMoveEnd,\n      onMove = _ref.onMove,\n      _ref$translateExtent = _ref.translateExtent,\n      translateExtent = _ref$translateExtent === void 0 ? [[-Infinity, -Infinity], [Infinity, Infinity]] : _ref$translateExtent,\n      _ref$scaleExtent = _ref.scaleExtent,\n      scaleExtent = _ref$scaleExtent === void 0 ? [1, 8] : _ref$scaleExtent,\n      _ref$zoom = _ref.zoom,\n      zoom$1 = _ref$zoom === void 0 ? 1 : _ref$zoom;\n\n  var _useContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(MapContext),\n      width = _useContext.width,\n      height = _useContext.height,\n      projection = _useContext.projection;\n\n  var _center = _slicedToArray(center, 2),\n      lon = _center[0],\n      lat = _center[1];\n\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({\n    x: 0,\n    y: 0,\n    k: 1\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      position = _useState2[0],\n      setPosition = _useState2[1];\n\n  var lastPosition = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)({\n    x: 0,\n    y: 0,\n    k: 1\n  });\n  var mapRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();\n  var zoomRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();\n  var bypassEvents = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);\n\n  var _translateExtent = _slicedToArray(translateExtent, 2),\n      a = _translateExtent[0],\n      b = _translateExtent[1];\n\n  var _a = _slicedToArray(a, 2),\n      a1 = _a[0],\n      a2 = _a[1];\n\n  var _b = _slicedToArray(b, 2),\n      b1 = _b[0],\n      b2 = _b[1];\n\n  var _scaleExtent = _slicedToArray(scaleExtent, 2),\n      minZoom = _scaleExtent[0],\n      maxZoom = _scaleExtent[1];\n\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n    var svg = (0,d3_selection__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(mapRef.current);\n\n    function handleZoomStart(d3Event) {\n      if (!onMoveStart || bypassEvents.current) return;\n      onMoveStart({\n        coordinates: projection.invert(getCoords(width, height, d3Event.transform)),\n        zoom: d3Event.transform.k\n      }, d3Event);\n    }\n\n    function handleZoom(d3Event) {\n      if (bypassEvents.current) return;\n      var transform = d3Event.transform,\n          sourceEvent = d3Event.sourceEvent;\n      setPosition({\n        x: transform.x,\n        y: transform.y,\n        k: transform.k,\n        dragging: sourceEvent\n      });\n      if (!onMove) return;\n      onMove({\n        x: transform.x,\n        y: transform.y,\n        zoom: transform.k,\n        dragging: sourceEvent\n      }, d3Event);\n    }\n\n    function handleZoomEnd(d3Event) {\n      if (bypassEvents.current) {\n        bypassEvents.current = false;\n        return;\n      }\n\n      var _projection$invert = projection.invert(getCoords(width, height, d3Event.transform)),\n          _projection$invert2 = _slicedToArray(_projection$invert, 2),\n          x = _projection$invert2[0],\n          y = _projection$invert2[1];\n\n      lastPosition.current = {\n        x: x,\n        y: y,\n        k: d3Event.transform.k\n      };\n      if (!onMoveEnd) return;\n      onMoveEnd({\n        coordinates: [x, y],\n        zoom: d3Event.transform.k\n      }, d3Event);\n    }\n\n    function filterFunc(d3Event) {\n      if (filterZoomEvent) {\n        return filterZoomEvent(d3Event);\n      }\n\n      return d3Event ? !d3Event.ctrlKey && !d3Event.button : false;\n    }\n\n    var zoom$1 = (0,d3_zoom__WEBPACK_IMPORTED_MODULE_2__.zoom)().filter(filterFunc).scaleExtent([minZoom, maxZoom]).translateExtent([[a1, a2], [b1, b2]]).on(\"start\", handleZoomStart).on(\"zoom\", handleZoom).on(\"end\", handleZoomEnd);\n    zoomRef.current = zoom$1;\n    svg.call(zoom$1);\n  }, [width, height, a1, a2, b1, b2, minZoom, maxZoom, projection, onMoveStart, onMove, onMoveEnd, filterZoomEvent]);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n    if (lon === lastPosition.current.x && lat === lastPosition.current.y && zoom$1 === lastPosition.current.k) return;\n    var coords = projection([lon, lat]);\n    var x = coords[0] * zoom$1;\n    var y = coords[1] * zoom$1;\n    var svg = (0,d3_selection__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(mapRef.current);\n    bypassEvents.current = true;\n    svg.call(zoomRef.current.transform, d3_zoom__WEBPACK_IMPORTED_MODULE_2__.zoomIdentity.translate(width / 2 - x, height / 2 - y).scale(zoom$1));\n    setPosition({\n      x: width / 2 - x,\n      y: height / 2 - y,\n      k: zoom$1\n    });\n    lastPosition.current = {\n      x: lon,\n      y: lat,\n      k: zoom$1\n    };\n  }, [lon, lat, zoom$1, width, height, projection]);\n  return {\n    mapRef: mapRef,\n    position: position,\n    transformString: \"translate(\".concat(position.x, \" \").concat(position.y, \") scale(\").concat(position.k, \")\")\n  };\n}\n\nvar _excluded$4 = [\"center\", \"zoom\", \"minZoom\", \"maxZoom\", \"translateExtent\", \"filterZoomEvent\", \"onMoveStart\", \"onMove\", \"onMoveEnd\", \"className\"];\nvar ZoomableGroup = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(function (_ref, ref) {\n  var _ref$center = _ref.center,\n      center = _ref$center === void 0 ? [0, 0] : _ref$center,\n      _ref$zoom = _ref.zoom,\n      zoom = _ref$zoom === void 0 ? 1 : _ref$zoom,\n      _ref$minZoom = _ref.minZoom,\n      minZoom = _ref$minZoom === void 0 ? 1 : _ref$minZoom,\n      _ref$maxZoom = _ref.maxZoom,\n      maxZoom = _ref$maxZoom === void 0 ? 8 : _ref$maxZoom,\n      translateExtent = _ref.translateExtent,\n      filterZoomEvent = _ref.filterZoomEvent,\n      onMoveStart = _ref.onMoveStart,\n      onMove = _ref.onMove,\n      onMoveEnd = _ref.onMoveEnd,\n      className = _ref.className,\n      restProps = _objectWithoutProperties(_ref, _excluded$4);\n\n  var _useContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(MapContext),\n      width = _useContext.width,\n      height = _useContext.height;\n\n  var _useZoomPan = useZoomPan({\n    center: center,\n    filterZoomEvent: filterZoomEvent,\n    onMoveStart: onMoveStart,\n    onMove: onMove,\n    onMoveEnd: onMoveEnd,\n    scaleExtent: [minZoom, maxZoom],\n    translateExtent: translateExtent,\n    zoom: zoom\n  }),\n      mapRef = _useZoomPan.mapRef,\n      transformString = _useZoomPan.transformString,\n      position = _useZoomPan.position;\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(ZoomPanProvider, {\n    value: {\n      x: position.x,\n      y: position.y,\n      k: position.k,\n      transformString: transformString\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"g\", {\n    ref: mapRef\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"rect\", {\n    width: width,\n    height: height,\n    fill: \"transparent\"\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"g\", _extends({\n    ref: ref,\n    transform: transformString,\n    className: \"rsm-zoomable-group \".concat(className)\n  }, restProps))));\n});\nZoomableGroup.displayName = \"ZoomableGroup\";\nZoomableGroup.propTypes = {\n  center: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().array),\n  zoom: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().number),\n  minZoom: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().number),\n  maxZoom: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().number),\n  translateExtent: prop_types__WEBPACK_IMPORTED_MODULE_5___default().arrayOf((prop_types__WEBPACK_IMPORTED_MODULE_5___default().array)),\n  onMoveStart: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().func),\n  onMove: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().func),\n  onMoveEnd: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().func),\n  className: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().string)\n};\n\nvar _excluded$3 = [\"id\", \"fill\", \"stroke\", \"strokeWidth\", \"className\"];\nvar Sphere = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(function (_ref, ref) {\n  var _ref$id = _ref.id,\n      id = _ref$id === void 0 ? \"rsm-sphere\" : _ref$id,\n      _ref$fill = _ref.fill,\n      fill = _ref$fill === void 0 ? \"transparent\" : _ref$fill,\n      _ref$stroke = _ref.stroke,\n      stroke = _ref$stroke === void 0 ? \"currentcolor\" : _ref$stroke,\n      _ref$strokeWidth = _ref.strokeWidth,\n      strokeWidth = _ref$strokeWidth === void 0 ? 0.5 : _ref$strokeWidth,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? \"\" : _ref$className,\n      restProps = _objectWithoutProperties(_ref, _excluded$3);\n\n  var _useContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(MapContext),\n      path = _useContext.path;\n\n  var spherePath = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () {\n    return path({\n      type: \"Sphere\"\n    });\n  }, [path]);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"defs\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"clipPath\", {\n    id: id\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"path\", {\n    d: spherePath\n  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"path\", _extends({\n    ref: ref,\n    d: spherePath,\n    fill: fill,\n    stroke: stroke,\n    strokeWidth: strokeWidth,\n    style: {\n      pointerEvents: \"none\"\n    },\n    className: \"rsm-sphere \".concat(className)\n  }, restProps)));\n});\nSphere.displayName = \"Sphere\";\nSphere.propTypes = {\n  id: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().string),\n  fill: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().string),\n  stroke: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().string),\n  strokeWidth: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().number),\n  className: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().string)\n};\nvar Sphere$1 = (0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(Sphere);\n\nvar _excluded$2 = [\"coordinates\", \"children\", \"onMouseEnter\", \"onMouseLeave\", \"onMouseDown\", \"onMouseUp\", \"onFocus\", \"onBlur\", \"style\", \"className\"];\nvar Marker = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(function (_ref, ref) {\n  var coordinates = _ref.coordinates,\n      children = _ref.children,\n      onMouseEnter = _ref.onMouseEnter,\n      onMouseLeave = _ref.onMouseLeave,\n      onMouseDown = _ref.onMouseDown,\n      onMouseUp = _ref.onMouseUp,\n      onFocus = _ref.onFocus,\n      onBlur = _ref.onBlur,\n      _ref$style = _ref.style,\n      style = _ref$style === void 0 ? {} : _ref$style,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? \"\" : _ref$className,\n      restProps = _objectWithoutProperties(_ref, _excluded$2);\n\n  var _useContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(MapContext),\n      projection = _useContext.projection;\n\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isPressed = _useState2[0],\n      setPressed = _useState2[1];\n\n  var _useState3 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      isFocused = _useState4[0],\n      setFocus = _useState4[1];\n\n  var _projection = projection(coordinates),\n      _projection2 = _slicedToArray(_projection, 2),\n      x = _projection2[0],\n      y = _projection2[1];\n\n  function handleMouseEnter(evt) {\n    setFocus(true);\n    if (onMouseEnter) onMouseEnter(evt);\n  }\n\n  function handleMouseLeave(evt) {\n    setFocus(false);\n    if (isPressed) setPressed(false);\n    if (onMouseLeave) onMouseLeave(evt);\n  }\n\n  function handleFocus(evt) {\n    setFocus(true);\n    if (onFocus) onFocus(evt);\n  }\n\n  function handleBlur(evt) {\n    setFocus(false);\n    if (isPressed) setPressed(false);\n    if (onBlur) onBlur(evt);\n  }\n\n  function handleMouseDown(evt) {\n    setPressed(true);\n    if (onMouseDown) onMouseDown(evt);\n  }\n\n  function handleMouseUp(evt) {\n    setPressed(false);\n    if (onMouseUp) onMouseUp(evt);\n  }\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"g\", _extends({\n    ref: ref,\n    transform: \"translate(\".concat(x, \", \").concat(y, \")\"),\n    className: \"rsm-marker \".concat(className),\n    onMouseEnter: handleMouseEnter,\n    onMouseLeave: handleMouseLeave,\n    onFocus: handleFocus,\n    onBlur: handleBlur,\n    onMouseDown: handleMouseDown,\n    onMouseUp: handleMouseUp,\n    style: style[isPressed || isFocused ? isPressed ? \"pressed\" : \"hover\" : \"default\"]\n  }, restProps), children);\n});\nMarker.displayName = \"Marker\";\nMarker.propTypes = {\n  coordinates: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().array),\n  children: prop_types__WEBPACK_IMPORTED_MODULE_5___default().oneOfType([(prop_types__WEBPACK_IMPORTED_MODULE_5___default().node), prop_types__WEBPACK_IMPORTED_MODULE_5___default().arrayOf((prop_types__WEBPACK_IMPORTED_MODULE_5___default().node))]),\n  onMouseEnter: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().func),\n  onMouseLeave: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().func),\n  onMouseDown: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().func),\n  onMouseUp: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().func),\n  onFocus: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().func),\n  onBlur: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().func),\n  style: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().object),\n  className: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().string)\n};\n\nvar _excluded$1 = [\"from\", \"to\", \"coordinates\", \"stroke\", \"strokeWidth\", \"fill\", \"className\"];\nvar Line = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(function (_ref, ref) {\n  var _ref$from = _ref.from,\n      from = _ref$from === void 0 ? [0, 0] : _ref$from,\n      _ref$to = _ref.to,\n      to = _ref$to === void 0 ? [0, 0] : _ref$to,\n      coordinates = _ref.coordinates,\n      _ref$stroke = _ref.stroke,\n      stroke = _ref$stroke === void 0 ? \"currentcolor\" : _ref$stroke,\n      _ref$strokeWidth = _ref.strokeWidth,\n      strokeWidth = _ref$strokeWidth === void 0 ? 3 : _ref$strokeWidth,\n      _ref$fill = _ref.fill,\n      fill = _ref$fill === void 0 ? \"transparent\" : _ref$fill,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? \"\" : _ref$className,\n      restProps = _objectWithoutProperties(_ref, _excluded$1);\n\n  var _useContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(MapContext),\n      path = _useContext.path;\n\n  var lineData = {\n    type: \"LineString\",\n    coordinates: coordinates || [from, to]\n  };\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"path\", _extends({\n    ref: ref,\n    d: path(lineData),\n    className: \"rsm-line \".concat(className),\n    stroke: stroke,\n    strokeWidth: strokeWidth,\n    fill: fill\n  }, restProps));\n});\nLine.displayName = \"Line\";\nLine.propTypes = {\n  from: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().array),\n  to: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().array),\n  coordinates: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().array),\n  stroke: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().string),\n  strokeWidth: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().number),\n  fill: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().string),\n  className: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().string)\n};\n\nvar _excluded = [\"subject\", \"children\", \"connectorProps\", \"dx\", \"dy\", \"curve\", \"className\"];\nvar Annotation = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(function (_ref, ref) {\n  var subject = _ref.subject,\n      children = _ref.children,\n      connectorProps = _ref.connectorProps,\n      _ref$dx = _ref.dx,\n      dx = _ref$dx === void 0 ? 30 : _ref$dx,\n      _ref$dy = _ref.dy,\n      dy = _ref$dy === void 0 ? 30 : _ref$dy,\n      _ref$curve = _ref.curve,\n      curve = _ref$curve === void 0 ? 0 : _ref$curve,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? \"\" : _ref$className,\n      restProps = _objectWithoutProperties(_ref, _excluded);\n\n  var _useContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(MapContext),\n      projection = _useContext.projection;\n\n  var _projection = projection(subject),\n      _projection2 = _slicedToArray(_projection, 2),\n      x = _projection2[0],\n      y = _projection2[1];\n\n  var connectorPath = createConnectorPath(dx, dy, curve);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"g\", _extends({\n    ref: ref,\n    transform: \"translate(\".concat(x + dx, \", \").concat(y + dy, \")\"),\n    className: \"rsm-annotation \".concat(className)\n  }, restProps), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"path\", _extends({\n    d: connectorPath,\n    fill: \"transparent\",\n    stroke: \"#000\"\n  }, connectorProps)), children);\n});\nAnnotation.displayName = \"Annotation\";\nAnnotation.propTypes = {\n  subject: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().array),\n  children: prop_types__WEBPACK_IMPORTED_MODULE_5___default().oneOfType([(prop_types__WEBPACK_IMPORTED_MODULE_5___default().node), prop_types__WEBPACK_IMPORTED_MODULE_5___default().arrayOf((prop_types__WEBPACK_IMPORTED_MODULE_5___default().node))]),\n  dx: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().number),\n  dy: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().number),\n  curve: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().number),\n  connectorProps: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().object),\n  className: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().string)\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcmVhY3Qtc2ltcGxlLW1hcHMvZGlzdC9pbmRleC5lcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBd0k7QUFDckc7QUFDSDtBQUNNO0FBQ1U7QUFDSDtBQUNQOztBQUV0QztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxrQkFBa0Isc0JBQXNCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxvQkFBb0Isc0JBQXNCO0FBQzFDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGNBQWMsdUJBQXVCO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBLGdCQUFnQiw2QkFBNkI7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsNEJBQTRCLCtCQUErQjtBQUMzRDs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEseUNBQXlDLFNBQVM7O0FBRWxEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBLGNBQWMsOENBQWE7QUFDM0IsMkNBQTJDLG1DQUFLOztBQUVoRCxpQkFBaUIsb0RBQWE7O0FBRTlCO0FBQ0E7QUFDQSwrREFBK0Q7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGlCQUFpQiw4Q0FBTztBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSCxhQUFhLGtEQUFXO0FBQ3hCLGNBQWMsOENBQU87QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILHNCQUFzQiwwREFBbUI7QUFDekM7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQSxTQUFTLDBEQUFnQjtBQUN6QixVQUFVLDBEQUFnQjtBQUMxQixjQUFjLDJEQUFtQixFQUFFLDBEQUFnQixFQUFFLHdEQUFjO0FBQ25FLG9CQUFvQiwwREFBZ0I7QUFDcEM7O0FBRUE7QUFDQSxTQUFTLGlEQUFVO0FBQ25COztBQUVBO0FBQ0Esb0JBQW9CLGlEQUFVO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0RBQStEO0FBQy9EO0FBQ0E7QUFDQTs7QUFFQSxzQkFBc0IsMERBQW1CO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRyxlQUFlLDBEQUFtQjtBQUNyQztBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsQ0FBQztBQUNEO0FBQ0E7QUFDQSxTQUFTLDBEQUFnQjtBQUN6QixVQUFVLDBEQUFnQjtBQUMxQixjQUFjLDJEQUFtQixFQUFFLDBEQUFnQixFQUFFLHdEQUFjO0FBQ25FLG9CQUFvQiwwREFBZ0I7QUFDcEMsYUFBYSwwREFBZ0I7QUFDN0I7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxjQUFjLHdEQUFPO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IscURBQUk7QUFDcEI7QUFDQSxHQUFHO0FBQ0gsZ0JBQWdCLHFEQUFJO0FBQ3BCO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLGNBQWM7QUFDM0Q7QUFDQTtBQUNBLEtBQUs7QUFDTCw2Q0FBNkMsY0FBYztBQUMzRDtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMsUUFBUTtBQUNuRDtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsb0JBQW9CLGlEQUFVO0FBQzlCOztBQUVBLGtCQUFrQiwrQ0FBUSxHQUFHO0FBQzdCO0FBQ0E7QUFDQTs7QUFFQSxFQUFFLGdEQUFTO0FBQ1g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQSxPQUFPO0FBQ1AsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEdBQUc7O0FBRUgsaUJBQWlCLDhDQUFPO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxrQkFBa0IsaURBQVU7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLG9CQUFvQixpREFBVTtBQUM5QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUEsc0JBQXNCLDBEQUFtQjtBQUN6QztBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsQ0FBQztBQUNEO0FBQ0E7QUFDQSxhQUFhLDJEQUFtQixFQUFFLDBEQUFnQixFQUFFLDBEQUFnQixFQUFFLHlEQUFlO0FBQ3JGLFlBQVksd0RBQWM7QUFDMUIsb0JBQW9CLHdEQUFjO0FBQ2xDLGFBQWEsMERBQWdCO0FBQzdCOztBQUVBO0FBQ0EsZ0JBQWdCLGlEQUFVO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUM7QUFDekM7QUFDQTtBQUNBOztBQUVBLGtCQUFrQiwrQ0FBUTtBQUMxQjtBQUNBO0FBQ0E7O0FBRUEsbUJBQW1CLCtDQUFRO0FBQzNCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsc0JBQXNCLDBEQUFtQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILENBQUM7QUFDRDtBQUNBO0FBQ0EsYUFBYSwwREFBZ0I7QUFDN0IsZ0JBQWdCLHdEQUFjO0FBQzlCLGdCQUFnQix3REFBYztBQUM5QixlQUFlLHdEQUFjO0FBQzdCLGFBQWEsd0RBQWM7QUFDM0IsV0FBVyx3REFBYztBQUN6QixVQUFVLHdEQUFjO0FBQ3hCLFNBQVMsMERBQWdCO0FBQ3pCLGFBQWEsMERBQWdCO0FBQzdCO0FBQ0Esa0JBQWtCLDJDQUFJOztBQUV0QjtBQUNBLGdCQUFnQixpREFBVTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsb0JBQW9CLGlEQUFVO0FBQzlCOztBQUVBLHNCQUFzQiwwREFBbUI7QUFDekM7QUFDQSxZQUFZLGtEQUFZO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxDQUFDO0FBQ0Q7QUFDQTtBQUNBLFFBQVEsMERBQWdCO0FBQ3hCLFVBQVUsMERBQWdCO0FBQzFCLFFBQVEseURBQWU7QUFDdkIsYUFBYSwwREFBZ0I7QUFDN0I7QUFDQSxrQkFBa0IsMkNBQUk7O0FBRXRCO0FBQ0EscUJBQXFCLG9EQUFhO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxzQkFBc0IsMERBQW1CO0FBQ3pDO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0EsS0FBSywwREFBZ0I7QUFDckIsS0FBSywwREFBZ0I7QUFDckIsS0FBSywwREFBZ0I7QUFDckIsbUJBQW1CLDBEQUFnQjtBQUNuQzs7QUFFQTtBQUNBLFNBQVMsaURBQVU7QUFDbkI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLG9CQUFvQixpREFBVTtBQUM5QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLGtCQUFrQiwrQ0FBUTtBQUMxQjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBLHFCQUFxQiw2Q0FBTTtBQUMzQjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsZUFBZSw2Q0FBTTtBQUNyQixnQkFBZ0IsNkNBQU07QUFDdEIscUJBQXFCLDZDQUFNOztBQUUzQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsRUFBRSxnREFBUztBQUNYLGNBQWMsd0RBQU07O0FBRXBCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLGlCQUFpQiw2Q0FBSTtBQUNyQjtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUUsZ0RBQVM7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsd0RBQU07QUFDcEI7QUFDQSx3Q0FBd0MsaURBQVk7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxvQkFBb0IsaURBQVU7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLG9CQUFvQixpREFBVTtBQUM5QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUEsc0JBQXNCLDBEQUFtQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLGVBQWUsMERBQW1CO0FBQ3JDO0FBQ0EsR0FBRyxlQUFlLDBEQUFtQjtBQUNyQztBQUNBO0FBQ0E7QUFDQSxHQUFHLGdCQUFnQiwwREFBbUI7QUFDdEM7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILENBQUM7QUFDRDtBQUNBO0FBQ0EsVUFBVSx5REFBZTtBQUN6QixRQUFRLDBEQUFnQjtBQUN4QixXQUFXLDBEQUFnQjtBQUMzQixXQUFXLDBEQUFnQjtBQUMzQixtQkFBbUIseURBQWlCLENBQUMseURBQWU7QUFDcEQsZUFBZSx3REFBYztBQUM3QixVQUFVLHdEQUFjO0FBQ3hCLGFBQWEsd0RBQWM7QUFDM0IsYUFBYSwwREFBZ0I7QUFDN0I7O0FBRUE7QUFDQSxhQUFhLGlEQUFVO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsb0JBQW9CLGlEQUFVO0FBQzlCOztBQUVBLG1CQUFtQiw4Q0FBTztBQUMxQjtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSCxzQkFBc0IsMERBQW1CLENBQUMsMkNBQVEscUJBQXFCLDBEQUFtQiw0QkFBNEIsMERBQW1CO0FBQ3pJO0FBQ0EsR0FBRyxlQUFlLDBEQUFtQjtBQUNyQztBQUNBLEdBQUcsa0JBQWtCLDBEQUFtQjtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEdBQUc7QUFDSCxDQUFDO0FBQ0Q7QUFDQTtBQUNBLE1BQU0sMERBQWdCO0FBQ3RCLFFBQVEsMERBQWdCO0FBQ3hCLFVBQVUsMERBQWdCO0FBQzFCLGVBQWUsMERBQWdCO0FBQy9CLGFBQWEsMERBQWdCO0FBQzdCO0FBQ0EsZUFBZSwyQ0FBSTs7QUFFbkI7QUFDQSxhQUFhLGlEQUFVO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QztBQUN6QztBQUNBO0FBQ0E7O0FBRUEsb0JBQW9CLGlEQUFVO0FBQzlCOztBQUVBLGtCQUFrQiwrQ0FBUTtBQUMxQjtBQUNBO0FBQ0E7O0FBRUEsbUJBQW1CLCtDQUFRO0FBQzNCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsc0JBQXNCLDBEQUFtQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxDQUFDO0FBQ0Q7QUFDQTtBQUNBLGVBQWUseURBQWU7QUFDOUIsWUFBWSwyREFBbUIsRUFBRSx3REFBYyxFQUFFLHlEQUFpQixDQUFDLHdEQUFjO0FBQ2pGLGdCQUFnQix3REFBYztBQUM5QixnQkFBZ0Isd0RBQWM7QUFDOUIsZUFBZSx3REFBYztBQUM3QixhQUFhLHdEQUFjO0FBQzNCLFdBQVcsd0RBQWM7QUFDekIsVUFBVSx3REFBYztBQUN4QixTQUFTLDBEQUFnQjtBQUN6QixhQUFhLDBEQUFnQjtBQUM3Qjs7QUFFQTtBQUNBLFdBQVcsaURBQVU7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxvQkFBb0IsaURBQVU7QUFDOUI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsMERBQW1CO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxDQUFDO0FBQ0Q7QUFDQTtBQUNBLFFBQVEseURBQWU7QUFDdkIsTUFBTSx5REFBZTtBQUNyQixlQUFlLHlEQUFlO0FBQzlCLFVBQVUsMERBQWdCO0FBQzFCLGVBQWUsMERBQWdCO0FBQy9CLFFBQVEsMERBQWdCO0FBQ3hCLGFBQWEsMERBQWdCO0FBQzdCOztBQUVBO0FBQ0EsaUJBQWlCLGlEQUFVO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxvQkFBb0IsaURBQVU7QUFDOUI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxzQkFBc0IsMERBQW1CO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBLEdBQUcsMkJBQTJCLDBEQUFtQjtBQUNqRDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsQ0FBQztBQUNEO0FBQ0E7QUFDQSxXQUFXLHlEQUFlO0FBQzFCLFlBQVksMkRBQW1CLEVBQUUsd0RBQWMsRUFBRSx5REFBaUIsQ0FBQyx3REFBYztBQUNqRixNQUFNLDBEQUFnQjtBQUN0QixNQUFNLDBEQUFnQjtBQUN0QixTQUFTLDBEQUFnQjtBQUN6QixrQkFBa0IsMERBQWdCO0FBQ2xDLGFBQWEsMERBQWdCO0FBQzdCOztBQUUrUSIsInNvdXJjZXMiOlsid2VicGFjazovL25ld3Mtd2Vic2l0ZS8uL25vZGVfbW9kdWxlcy9yZWFjdC1zaW1wbGUtbWFwcy9kaXN0L2luZGV4LmVzLmpzPzc0MzQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IGNyZWF0ZUNvbnRleHQsIHVzZU1lbW8sIHVzZUNhbGxiYWNrLCB1c2VDb250ZXh0LCBmb3J3YXJkUmVmLCB1c2VTdGF0ZSwgdXNlRWZmZWN0LCBtZW1vLCB1c2VSZWYsIEZyYWdtZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCAqIGFzIGQzR2VvIGZyb20gJ2QzLWdlbyc7XG5pbXBvcnQgeyBnZW9HcmF0aWN1bGUgfSBmcm9tICdkMy1nZW8nO1xuaW1wb3J0IHsgZmVhdHVyZSwgbWVzaCB9IGZyb20gJ3RvcG9qc29uLWNsaWVudCc7XG5pbXBvcnQgeyB6b29tLCB6b29tSWRlbnRpdHkgfSBmcm9tICdkMy16b29tJztcbmltcG9ydCB7IHNlbGVjdCB9IGZyb20gJ2QzLXNlbGVjdGlvbic7XG5cbmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkge1xuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7XG5cbiAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcbiAgICB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTtcbiAgICBlbnVtZXJhYmxlT25seSAmJiAoc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHtcbiAgICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlO1xuICAgIH0pKSwga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpO1xuICB9XG5cbiAgcmV0dXJuIGtleXM7XG59XG5cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQyKHRhcmdldCkge1xuICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBzb3VyY2UgPSBudWxsICE9IGFyZ3VtZW50c1tpXSA/IGFyZ3VtZW50c1tpXSA6IHt9O1xuICAgIGkgJSAyID8gb3duS2V5cyhPYmplY3Qoc291cmNlKSwgITApLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7XG4gICAgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSkgOiBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpO1xuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuZnVuY3Rpb24gX3R5cGVvZihvYmopIHtcbiAgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiO1xuXG4gIHJldHVybiBfdHlwZW9mID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgXCJzeW1ib2xcIiA9PSB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID8gZnVuY3Rpb24gKG9iaikge1xuICAgIHJldHVybiB0eXBlb2Ygb2JqO1xuICB9IDogZnVuY3Rpb24gKG9iaikge1xuICAgIHJldHVybiBvYmogJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7XG4gIH0sIF90eXBlb2Yob2JqKTtcbn1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkge1xuICBpZiAoa2V5IGluIG9iaikge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgb2JqW2tleV0gPSB2YWx1ZTtcbiAgfVxuXG4gIHJldHVybiBvYmo7XG59XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkge1xuICBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gPyBPYmplY3QuYXNzaWduLmJpbmQoKSA6IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9O1xuICByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkge1xuICBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTtcbiAgdmFyIHRhcmdldCA9IHt9O1xuICB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7XG4gIHZhciBrZXksIGk7XG5cbiAgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHtcbiAgICBrZXkgPSBzb3VyY2VLZXlzW2ldO1xuICAgIGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7XG4gICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhzb3VyY2UsIGV4Y2x1ZGVkKSB7XG4gIGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9O1xuXG4gIHZhciB0YXJnZXQgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKTtcblxuICB2YXIga2V5LCBpO1xuXG4gIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG4gICAgdmFyIHNvdXJjZVN5bWJvbEtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZSk7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgc291cmNlU3ltYm9sS2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAga2V5ID0gc291cmNlU3ltYm9sS2V5c1tpXTtcbiAgICAgIGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7XG4gICAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzb3VyY2UsIGtleSkpIGNvbnRpbnVlO1xuICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0O1xufVxuXG5mdW5jdGlvbiBfc2xpY2VkVG9BcnJheShhcnIsIGkpIHtcbiAgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIsIGkpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTtcbn1cblxuZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikge1xuICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyO1xufVxuXG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7XG4gIHZhciBfaSA9IGFyciA9PSBudWxsID8gbnVsbCA6IHR5cGVvZiBTeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgJiYgYXJyW1N5bWJvbC5pdGVyYXRvcl0gfHwgYXJyW1wiQEBpdGVyYXRvclwiXTtcblxuICBpZiAoX2kgPT0gbnVsbCkgcmV0dXJuO1xuICB2YXIgX2FyciA9IFtdO1xuICB2YXIgX24gPSB0cnVlO1xuICB2YXIgX2QgPSBmYWxzZTtcblxuICB2YXIgX3MsIF9lO1xuXG4gIHRyeSB7XG4gICAgZm9yIChfaSA9IF9pLmNhbGwoYXJyKTsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkge1xuICAgICAgX2Fyci5wdXNoKF9zLnZhbHVlKTtcblxuICAgICAgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgX2QgPSB0cnVlO1xuICAgIF9lID0gZXJyO1xuICB9IGZpbmFsbHkge1xuICAgIHRyeSB7XG4gICAgICBpZiAoIV9uICYmIF9pW1wicmV0dXJuXCJdICE9IG51bGwpIF9pW1wicmV0dXJuXCJdKCk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlmIChfZCkgdGhyb3cgX2U7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIF9hcnI7XG59XG5cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHtcbiAgaWYgKCFvKSByZXR1cm47XG4gIGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7XG4gIHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTtcbiAgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTtcbiAgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7XG4gIGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTtcbn1cblxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHtcbiAgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7XG5cbiAgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSBhcnIyW2ldID0gYXJyW2ldO1xuXG4gIHJldHVybiBhcnIyO1xufVxuXG5mdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkge1xuICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpO1xufVxuXG52YXIgX2V4Y2x1ZGVkJGEgPSBbXCJ3aWR0aFwiLCBcImhlaWdodFwiLCBcInByb2plY3Rpb25cIiwgXCJwcm9qZWN0aW9uQ29uZmlnXCJdO1xuXG52YXIgZ2VvUGF0aCA9IGQzR2VvLmdlb1BhdGgsXG4gICAgcHJvamVjdGlvbnMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoZDNHZW8sIFtcImdlb1BhdGhcIl0pO1xuXG52YXIgTWFwQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQoKTtcblxudmFyIG1ha2VQcm9qZWN0aW9uID0gZnVuY3Rpb24gbWFrZVByb2plY3Rpb24oX3JlZikge1xuICB2YXIgX3JlZiRwcm9qZWN0aW9uQ29uZmlnID0gX3JlZi5wcm9qZWN0aW9uQ29uZmlnLFxuICAgICAgcHJvamVjdGlvbkNvbmZpZyA9IF9yZWYkcHJvamVjdGlvbkNvbmZpZyA9PT0gdm9pZCAwID8ge30gOiBfcmVmJHByb2plY3Rpb25Db25maWcsXG4gICAgICBfcmVmJHByb2plY3Rpb24gPSBfcmVmLnByb2plY3Rpb24sXG4gICAgICBwcm9qZWN0aW9uID0gX3JlZiRwcm9qZWN0aW9uID09PSB2b2lkIDAgPyBcImdlb0VxdWFsRWFydGhcIiA6IF9yZWYkcHJvamVjdGlvbixcbiAgICAgIF9yZWYkd2lkdGggPSBfcmVmLndpZHRoLFxuICAgICAgd2lkdGggPSBfcmVmJHdpZHRoID09PSB2b2lkIDAgPyA4MDAgOiBfcmVmJHdpZHRoLFxuICAgICAgX3JlZiRoZWlnaHQgPSBfcmVmLmhlaWdodCxcbiAgICAgIGhlaWdodCA9IF9yZWYkaGVpZ2h0ID09PSB2b2lkIDAgPyA2MDAgOiBfcmVmJGhlaWdodDtcbiAgdmFyIGlzRnVuYyA9IHR5cGVvZiBwcm9qZWN0aW9uID09PSBcImZ1bmN0aW9uXCI7XG4gIGlmIChpc0Z1bmMpIHJldHVybiBwcm9qZWN0aW9uO1xuICB2YXIgcHJvaiA9IHByb2plY3Rpb25zW3Byb2plY3Rpb25dKCkudHJhbnNsYXRlKFt3aWR0aCAvIDIsIGhlaWdodCAvIDJdKTtcbiAgdmFyIHN1cHBvcnRlZCA9IFtwcm9qLmNlbnRlciA/IFwiY2VudGVyXCIgOiBudWxsLCBwcm9qLnJvdGF0ZSA/IFwicm90YXRlXCIgOiBudWxsLCBwcm9qLnNjYWxlID8gXCJzY2FsZVwiIDogbnVsbCwgcHJvai5wYXJhbGxlbHMgPyBcInBhcmFsbGVsc1wiIDogbnVsbF07XG4gIHN1cHBvcnRlZC5mb3JFYWNoKGZ1bmN0aW9uIChkKSB7XG4gICAgaWYgKCFkKSByZXR1cm47XG4gICAgcHJvaiA9IHByb2pbZF0ocHJvamVjdGlvbkNvbmZpZ1tkXSB8fCBwcm9qW2RdKCkpO1xuICB9KTtcbiAgcmV0dXJuIHByb2o7XG59O1xuXG52YXIgTWFwUHJvdmlkZXIgPSBmdW5jdGlvbiBNYXBQcm92aWRlcihfcmVmMikge1xuICB2YXIgd2lkdGggPSBfcmVmMi53aWR0aCxcbiAgICAgIGhlaWdodCA9IF9yZWYyLmhlaWdodCxcbiAgICAgIHByb2plY3Rpb24gPSBfcmVmMi5wcm9qZWN0aW9uLFxuICAgICAgcHJvamVjdGlvbkNvbmZpZyA9IF9yZWYyLnByb2plY3Rpb25Db25maWcsXG4gICAgICByZXN0UHJvcHMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX3JlZjIsIF9leGNsdWRlZCRhKTtcblxuICB2YXIgX3JlZjMgPSBwcm9qZWN0aW9uQ29uZmlnLmNlbnRlciB8fCBbXSxcbiAgICAgIF9yZWY0ID0gX3NsaWNlZFRvQXJyYXkoX3JlZjMsIDIpLFxuICAgICAgY3ggPSBfcmVmNFswXSxcbiAgICAgIGN5ID0gX3JlZjRbMV07XG5cbiAgdmFyIF9yZWY1ID0gcHJvamVjdGlvbkNvbmZpZy5yb3RhdGUgfHwgW10sXG4gICAgICBfcmVmNiA9IF9zbGljZWRUb0FycmF5KF9yZWY1LCAzKSxcbiAgICAgIHJ4ID0gX3JlZjZbMF0sXG4gICAgICByeSA9IF9yZWY2WzFdLFxuICAgICAgcnogPSBfcmVmNlsyXTtcblxuICB2YXIgX3JlZjcgPSBwcm9qZWN0aW9uQ29uZmlnLnBhcmFsbGVscyB8fCBbXSxcbiAgICAgIF9yZWY4ID0gX3NsaWNlZFRvQXJyYXkoX3JlZjcsIDIpLFxuICAgICAgcDEgPSBfcmVmOFswXSxcbiAgICAgIHAyID0gX3JlZjhbMV07XG5cbiAgdmFyIHMgPSBwcm9qZWN0aW9uQ29uZmlnLnNjYWxlIHx8IG51bGw7XG4gIHZhciBwcm9qTWVtbyA9IHVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBtYWtlUHJvamVjdGlvbih7XG4gICAgICBwcm9qZWN0aW9uQ29uZmlnOiB7XG4gICAgICAgIGNlbnRlcjogY3ggfHwgY3ggPT09IDAgfHwgY3kgfHwgY3kgPT09IDAgPyBbY3gsIGN5XSA6IG51bGwsXG4gICAgICAgIHJvdGF0ZTogcnggfHwgcnggPT09IDAgfHwgcnkgfHwgcnkgPT09IDAgPyBbcngsIHJ5LCByel0gOiBudWxsLFxuICAgICAgICBwYXJhbGxlbHM6IHAxIHx8IHAxID09PSAwIHx8IHAyIHx8IHAyID09PSAwID8gW3AxLCBwMl0gOiBudWxsLFxuICAgICAgICBzY2FsZTogc1xuICAgICAgfSxcbiAgICAgIHByb2plY3Rpb246IHByb2plY3Rpb24sXG4gICAgICB3aWR0aDogd2lkdGgsXG4gICAgICBoZWlnaHQ6IGhlaWdodFxuICAgIH0pO1xuICB9LCBbd2lkdGgsIGhlaWdodCwgcHJvamVjdGlvbiwgY3gsIGN5LCByeCwgcnksIHJ6LCBwMSwgcDIsIHNdKTtcbiAgdmFyIHByb2ogPSB1c2VDYWxsYmFjayhwcm9qTWVtbywgW3Byb2pNZW1vXSk7XG4gIHZhciB2YWx1ZSA9IHVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICB3aWR0aDogd2lkdGgsXG4gICAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICAgIHByb2plY3Rpb246IHByb2osXG4gICAgICBwYXRoOiBnZW9QYXRoKCkucHJvamVjdGlvbihwcm9qKVxuICAgIH07XG4gIH0sIFt3aWR0aCwgaGVpZ2h0LCBwcm9qXSk7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChNYXBDb250ZXh0LlByb3ZpZGVyLCBfZXh0ZW5kcyh7XG4gICAgdmFsdWU6IHZhbHVlXG4gIH0sIHJlc3RQcm9wcykpO1xufTtcblxuTWFwUHJvdmlkZXIucHJvcFR5cGVzID0ge1xuICB3aWR0aDogUHJvcFR5cGVzLm51bWJlcixcbiAgaGVpZ2h0OiBQcm9wVHlwZXMubnVtYmVyLFxuICBwcm9qZWN0aW9uOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuc3RyaW5nLCBQcm9wVHlwZXMuZnVuY10pLFxuICBwcm9qZWN0aW9uQ29uZmlnOiBQcm9wVHlwZXMub2JqZWN0XG59O1xuXG52YXIgdXNlTWFwQ29udGV4dCA9IGZ1bmN0aW9uIHVzZU1hcENvbnRleHQoKSB7XG4gIHJldHVybiB1c2VDb250ZXh0KE1hcENvbnRleHQpO1xufTtcblxudmFyIF9leGNsdWRlZCQ5ID0gW1wid2lkdGhcIiwgXCJoZWlnaHRcIiwgXCJwcm9qZWN0aW9uXCIsIFwicHJvamVjdGlvbkNvbmZpZ1wiLCBcImNsYXNzTmFtZVwiXTtcbnZhciBDb21wb3NhYmxlTWFwID0gZm9yd2FyZFJlZihmdW5jdGlvbiAoX3JlZiwgcmVmKSB7XG4gIHZhciBfcmVmJHdpZHRoID0gX3JlZi53aWR0aCxcbiAgICAgIHdpZHRoID0gX3JlZiR3aWR0aCA9PT0gdm9pZCAwID8gODAwIDogX3JlZiR3aWR0aCxcbiAgICAgIF9yZWYkaGVpZ2h0ID0gX3JlZi5oZWlnaHQsXG4gICAgICBoZWlnaHQgPSBfcmVmJGhlaWdodCA9PT0gdm9pZCAwID8gNjAwIDogX3JlZiRoZWlnaHQsXG4gICAgICBfcmVmJHByb2plY3Rpb24gPSBfcmVmLnByb2plY3Rpb24sXG4gICAgICBwcm9qZWN0aW9uID0gX3JlZiRwcm9qZWN0aW9uID09PSB2b2lkIDAgPyBcImdlb0VxdWFsRWFydGhcIiA6IF9yZWYkcHJvamVjdGlvbixcbiAgICAgIF9yZWYkcHJvamVjdGlvbkNvbmZpZyA9IF9yZWYucHJvamVjdGlvbkNvbmZpZyxcbiAgICAgIHByb2plY3Rpb25Db25maWcgPSBfcmVmJHByb2plY3Rpb25Db25maWcgPT09IHZvaWQgMCA/IHt9IDogX3JlZiRwcm9qZWN0aW9uQ29uZmlnLFxuICAgICAgX3JlZiRjbGFzc05hbWUgPSBfcmVmLmNsYXNzTmFtZSxcbiAgICAgIGNsYXNzTmFtZSA9IF9yZWYkY2xhc3NOYW1lID09PSB2b2lkIDAgPyBcIlwiIDogX3JlZiRjbGFzc05hbWUsXG4gICAgICByZXN0UHJvcHMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX3JlZiwgX2V4Y2x1ZGVkJDkpO1xuXG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChNYXBQcm92aWRlciwge1xuICAgIHdpZHRoOiB3aWR0aCxcbiAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICBwcm9qZWN0aW9uOiBwcm9qZWN0aW9uLFxuICAgIHByb2plY3Rpb25Db25maWc6IHByb2plY3Rpb25Db25maWdcbiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgX2V4dGVuZHMoe1xuICAgIHJlZjogcmVmLFxuICAgIHZpZXdCb3g6IFwiMCAwIFwiLmNvbmNhdCh3aWR0aCwgXCIgXCIpLmNvbmNhdChoZWlnaHQpLFxuICAgIGNsYXNzTmFtZTogXCJyc20tc3ZnIFwiLmNvbmNhdChjbGFzc05hbWUpXG4gIH0sIHJlc3RQcm9wcykpKTtcbn0pO1xuQ29tcG9zYWJsZU1hcC5kaXNwbGF5TmFtZSA9IFwiQ29tcG9zYWJsZU1hcFwiO1xuQ29tcG9zYWJsZU1hcC5wcm9wVHlwZXMgPSB7XG4gIHdpZHRoOiBQcm9wVHlwZXMubnVtYmVyLFxuICBoZWlnaHQ6IFByb3BUeXBlcy5udW1iZXIsXG4gIHByb2plY3Rpb246IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5zdHJpbmcsIFByb3BUeXBlcy5mdW5jXSksXG4gIHByb2plY3Rpb25Db25maWc6IFByb3BUeXBlcy5vYmplY3QsXG4gIGNsYXNzTmFtZTogUHJvcFR5cGVzLnN0cmluZ1xufTtcblxuZnVuY3Rpb24gZ2V0Q29vcmRzKHcsIGgsIHQpIHtcbiAgdmFyIHhPZmZzZXQgPSAodyAqIHQuayAtIHcpIC8gMjtcbiAgdmFyIHlPZmZzZXQgPSAoaCAqIHQuayAtIGgpIC8gMjtcbiAgcmV0dXJuIFt3IC8gMiAtICh4T2Zmc2V0ICsgdC54KSAvIHQuaywgaCAvIDIgLSAoeU9mZnNldCArIHQueSkgLyB0LmtdO1xufVxuZnVuY3Rpb24gZmV0Y2hHZW9ncmFwaGllcyh1cmwpIHtcbiAgcmV0dXJuIGZldGNoKHVybCkudGhlbihmdW5jdGlvbiAocmVzKSB7XG4gICAgaWYgKCFyZXMub2spIHtcbiAgICAgIHRocm93IEVycm9yKHJlcy5zdGF0dXNUZXh0KTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgfSlbXCJjYXRjaFwiXShmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmxvZyhcIlRoZXJlIHdhcyBhIHByb2JsZW0gd2hlbiBmZXRjaGluZyB0aGUgZGF0YTogXCIsIGVycm9yKTtcbiAgfSk7XG59XG5mdW5jdGlvbiBnZXRGZWF0dXJlcyhnZW9ncmFwaGllcywgcGFyc2VHZW9ncmFwaGllcykge1xuICB2YXIgaXNUb3BvanNvbiA9IGdlb2dyYXBoaWVzLnR5cGUgPT09IFwiVG9wb2xvZ3lcIjtcblxuICBpZiAoIWlzVG9wb2pzb24pIHtcbiAgICByZXR1cm4gcGFyc2VHZW9ncmFwaGllcyA/IHBhcnNlR2VvZ3JhcGhpZXMoZ2VvZ3JhcGhpZXMuZmVhdHVyZXMgfHwgZ2VvZ3JhcGhpZXMpIDogZ2VvZ3JhcGhpZXMuZmVhdHVyZXMgfHwgZ2VvZ3JhcGhpZXM7XG4gIH1cblxuICB2YXIgZmVhdHMgPSBmZWF0dXJlKGdlb2dyYXBoaWVzLCBnZW9ncmFwaGllcy5vYmplY3RzW09iamVjdC5rZXlzKGdlb2dyYXBoaWVzLm9iamVjdHMpWzBdXSkuZmVhdHVyZXM7XG4gIHJldHVybiBwYXJzZUdlb2dyYXBoaWVzID8gcGFyc2VHZW9ncmFwaGllcyhmZWF0cykgOiBmZWF0cztcbn1cbmZ1bmN0aW9uIGdldE1lc2goZ2VvZ3JhcGhpZXMpIHtcbiAgdmFyIGlzVG9wb2pzb24gPSBnZW9ncmFwaGllcy50eXBlID09PSBcIlRvcG9sb2d5XCI7XG4gIGlmICghaXNUb3BvanNvbikgcmV0dXJuIG51bGw7XG4gIHZhciBvdXRsaW5lID0gbWVzaChnZW9ncmFwaGllcywgZ2VvZ3JhcGhpZXMub2JqZWN0c1tPYmplY3Qua2V5cyhnZW9ncmFwaGllcy5vYmplY3RzKVswXV0sIGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgcmV0dXJuIGEgPT09IGI7XG4gIH0pO1xuICB2YXIgYm9yZGVycyA9IG1lc2goZ2VvZ3JhcGhpZXMsIGdlb2dyYXBoaWVzLm9iamVjdHNbT2JqZWN0LmtleXMoZ2VvZ3JhcGhpZXMub2JqZWN0cylbMF1dLCBmdW5jdGlvbiAoYSwgYikge1xuICAgIHJldHVybiBhICE9PSBiO1xuICB9KTtcbiAgcmV0dXJuIHtcbiAgICBvdXRsaW5lOiBvdXRsaW5lLFxuICAgIGJvcmRlcnM6IGJvcmRlcnNcbiAgfTtcbn1cbmZ1bmN0aW9uIHByZXBhcmVNZXNoKG91dGxpbmUsIGJvcmRlcnMsIHBhdGgpIHtcbiAgcmV0dXJuIG91dGxpbmUgJiYgYm9yZGVycyA/IHtcbiAgICBvdXRsaW5lOiBfb2JqZWN0U3ByZWFkMihfb2JqZWN0U3ByZWFkMih7fSwgb3V0bGluZSksIHt9LCB7XG4gICAgICByc21LZXk6IFwib3V0bGluZVwiLFxuICAgICAgc3ZnUGF0aDogcGF0aChvdXRsaW5lKVxuICAgIH0pLFxuICAgIGJvcmRlcnM6IF9vYmplY3RTcHJlYWQyKF9vYmplY3RTcHJlYWQyKHt9LCBib3JkZXJzKSwge30sIHtcbiAgICAgIHJzbUtleTogXCJib3JkZXJzXCIsXG4gICAgICBzdmdQYXRoOiBwYXRoKGJvcmRlcnMpXG4gICAgfSlcbiAgfSA6IHt9O1xufVxuZnVuY3Rpb24gcHJlcGFyZUZlYXR1cmVzKGdlb2dyYXBoaWVzLCBwYXRoKSB7XG4gIHJldHVybiBnZW9ncmFwaGllcyA/IGdlb2dyYXBoaWVzLm1hcChmdW5jdGlvbiAoZCwgaSkge1xuICAgIHJldHVybiBfb2JqZWN0U3ByZWFkMihfb2JqZWN0U3ByZWFkMih7fSwgZCksIHt9LCB7XG4gICAgICByc21LZXk6IFwiZ2VvLVwiLmNvbmNhdChpKSxcbiAgICAgIHN2Z1BhdGg6IHBhdGgoZClcbiAgICB9KTtcbiAgfSkgOiBbXTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUNvbm5lY3RvclBhdGgoKSB7XG4gIHZhciBkeCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMzA7XG4gIHZhciBkeSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMzA7XG4gIHZhciBjdXJ2ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogMC41O1xuICB2YXIgY3VydmF0dXJlID0gQXJyYXkuaXNBcnJheShjdXJ2ZSkgPyBjdXJ2ZSA6IFtjdXJ2ZSwgY3VydmVdO1xuICB2YXIgY3VydmVYID0gZHggLyAyICogY3VydmF0dXJlWzBdO1xuICB2YXIgY3VydmVZID0gZHkgLyAyICogY3VydmF0dXJlWzFdO1xuICByZXR1cm4gXCJNXCIuY29uY2F0KDAsIFwiLFwiLCAwLCBcIiBRXCIsIC1keCAvIDIgLSBjdXJ2ZVgsIFwiLFwiKS5jb25jYXQoLWR5IC8gMiArIGN1cnZlWSwgXCIgXCIpLmNvbmNhdCgtZHgsIFwiLFwiKS5jb25jYXQoLWR5KTtcbn1cbmZ1bmN0aW9uIGlzU3RyaW5nKGdlbykge1xuICByZXR1cm4gdHlwZW9mIGdlbyA9PT0gXCJzdHJpbmdcIjtcbn1cblxuZnVuY3Rpb24gdXNlR2VvZ3JhcGhpZXMoX3JlZikge1xuICB2YXIgZ2VvZ3JhcGh5ID0gX3JlZi5nZW9ncmFwaHksXG4gICAgICBwYXJzZUdlb2dyYXBoaWVzID0gX3JlZi5wYXJzZUdlb2dyYXBoaWVzO1xuXG4gIHZhciBfdXNlQ29udGV4dCA9IHVzZUNvbnRleHQoTWFwQ29udGV4dCksXG4gICAgICBwYXRoID0gX3VzZUNvbnRleHQucGF0aDtcblxuICB2YXIgX3VzZVN0YXRlID0gdXNlU3RhdGUoe30pLFxuICAgICAgX3VzZVN0YXRlMiA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZSwgMiksXG4gICAgICBvdXRwdXQgPSBfdXNlU3RhdGUyWzBdLFxuICAgICAgc2V0T3V0cHV0ID0gX3VzZVN0YXRlMlsxXTtcblxuICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGlmICgodHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKHdpbmRvdykpID09PSBcInVuZGVmaW5lZFwiKSByZXR1cm47XG4gICAgaWYgKCFnZW9ncmFwaHkpIHJldHVybjtcblxuICAgIGlmIChpc1N0cmluZyhnZW9ncmFwaHkpKSB7XG4gICAgICBmZXRjaEdlb2dyYXBoaWVzKGdlb2dyYXBoeSkudGhlbihmdW5jdGlvbiAoZ2Vvcykge1xuICAgICAgICBpZiAoZ2Vvcykge1xuICAgICAgICAgIHNldE91dHB1dCh7XG4gICAgICAgICAgICBnZW9ncmFwaGllczogZ2V0RmVhdHVyZXMoZ2VvcywgcGFyc2VHZW9ncmFwaGllcyksXG4gICAgICAgICAgICBtZXNoOiBnZXRNZXNoKGdlb3MpXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZXRPdXRwdXQoe1xuICAgICAgICBnZW9ncmFwaGllczogZ2V0RmVhdHVyZXMoZ2VvZ3JhcGh5LCBwYXJzZUdlb2dyYXBoaWVzKSxcbiAgICAgICAgbWVzaDogZ2V0TWVzaChnZW9ncmFwaHkpXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFtnZW9ncmFwaHksIHBhcnNlR2VvZ3JhcGhpZXNdKTtcblxuICB2YXIgX3VzZU1lbW8gPSB1c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgbWVzaCA9IG91dHB1dC5tZXNoIHx8IHt9O1xuICAgIHZhciBwcmVwYXJlZE1lc2ggPSBwcmVwYXJlTWVzaChtZXNoLm91dGxpbmUsIG1lc2guYm9yZGVycywgcGF0aCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGdlb2dyYXBoaWVzOiBwcmVwYXJlRmVhdHVyZXMob3V0cHV0Lmdlb2dyYXBoaWVzLCBwYXRoKSxcbiAgICAgIG91dGxpbmU6IHByZXBhcmVkTWVzaC5vdXRsaW5lLFxuICAgICAgYm9yZGVyczogcHJlcGFyZWRNZXNoLmJvcmRlcnNcbiAgICB9O1xuICB9LCBbb3V0cHV0LCBwYXRoXSksXG4gICAgICBnZW9ncmFwaGllcyA9IF91c2VNZW1vLmdlb2dyYXBoaWVzLFxuICAgICAgb3V0bGluZSA9IF91c2VNZW1vLm91dGxpbmUsXG4gICAgICBib3JkZXJzID0gX3VzZU1lbW8uYm9yZGVycztcblxuICByZXR1cm4ge1xuICAgIGdlb2dyYXBoaWVzOiBnZW9ncmFwaGllcyxcbiAgICBvdXRsaW5lOiBvdXRsaW5lLFxuICAgIGJvcmRlcnM6IGJvcmRlcnNcbiAgfTtcbn1cblxudmFyIF9leGNsdWRlZCQ4ID0gW1wiZ2VvZ3JhcGh5XCIsIFwiY2hpbGRyZW5cIiwgXCJwYXJzZUdlb2dyYXBoaWVzXCIsIFwiY2xhc3NOYW1lXCJdO1xudmFyIEdlb2dyYXBoaWVzID0gZm9yd2FyZFJlZihmdW5jdGlvbiAoX3JlZiwgcmVmKSB7XG4gIHZhciBnZW9ncmFwaHkgPSBfcmVmLmdlb2dyYXBoeSxcbiAgICAgIGNoaWxkcmVuID0gX3JlZi5jaGlsZHJlbixcbiAgICAgIHBhcnNlR2VvZ3JhcGhpZXMgPSBfcmVmLnBhcnNlR2VvZ3JhcGhpZXMsXG4gICAgICBfcmVmJGNsYXNzTmFtZSA9IF9yZWYuY2xhc3NOYW1lLFxuICAgICAgY2xhc3NOYW1lID0gX3JlZiRjbGFzc05hbWUgPT09IHZvaWQgMCA/IFwiXCIgOiBfcmVmJGNsYXNzTmFtZSxcbiAgICAgIHJlc3RQcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfcmVmLCBfZXhjbHVkZWQkOCk7XG5cbiAgdmFyIF91c2VDb250ZXh0ID0gdXNlQ29udGV4dChNYXBDb250ZXh0KSxcbiAgICAgIHBhdGggPSBfdXNlQ29udGV4dC5wYXRoLFxuICAgICAgcHJvamVjdGlvbiA9IF91c2VDb250ZXh0LnByb2plY3Rpb247XG5cbiAgdmFyIF91c2VHZW9ncmFwaGllcyA9IHVzZUdlb2dyYXBoaWVzKHtcbiAgICBnZW9ncmFwaHk6IGdlb2dyYXBoeSxcbiAgICBwYXJzZUdlb2dyYXBoaWVzOiBwYXJzZUdlb2dyYXBoaWVzXG4gIH0pLFxuICAgICAgZ2VvZ3JhcGhpZXMgPSBfdXNlR2VvZ3JhcGhpZXMuZ2VvZ3JhcGhpZXMsXG4gICAgICBvdXRsaW5lID0gX3VzZUdlb2dyYXBoaWVzLm91dGxpbmUsXG4gICAgICBib3JkZXJzID0gX3VzZUdlb2dyYXBoaWVzLmJvcmRlcnM7XG5cbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZ1wiLCBfZXh0ZW5kcyh7XG4gICAgcmVmOiByZWYsXG4gICAgY2xhc3NOYW1lOiBcInJzbS1nZW9ncmFwaGllcyBcIi5jb25jYXQoY2xhc3NOYW1lKVxuICB9LCByZXN0UHJvcHMpLCBnZW9ncmFwaGllcyAmJiBnZW9ncmFwaGllcy5sZW5ndGggPiAwICYmIGNoaWxkcmVuKHtcbiAgICBnZW9ncmFwaGllczogZ2VvZ3JhcGhpZXMsXG4gICAgb3V0bGluZTogb3V0bGluZSxcbiAgICBib3JkZXJzOiBib3JkZXJzLFxuICAgIHBhdGg6IHBhdGgsXG4gICAgcHJvamVjdGlvbjogcHJvamVjdGlvblxuICB9KSk7XG59KTtcbkdlb2dyYXBoaWVzLmRpc3BsYXlOYW1lID0gXCJHZW9ncmFwaGllc1wiO1xuR2VvZ3JhcGhpZXMucHJvcFR5cGVzID0ge1xuICBnZW9ncmFwaHk6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5zdHJpbmcsIFByb3BUeXBlcy5vYmplY3QsIFByb3BUeXBlcy5hcnJheV0pLFxuICBjaGlsZHJlbjogUHJvcFR5cGVzLmZ1bmMsXG4gIHBhcnNlR2VvZ3JhcGhpZXM6IFByb3BUeXBlcy5mdW5jLFxuICBjbGFzc05hbWU6IFByb3BUeXBlcy5zdHJpbmdcbn07XG5cbnZhciBfZXhjbHVkZWQkNyA9IFtcImdlb2dyYXBoeVwiLCBcIm9uTW91c2VFbnRlclwiLCBcIm9uTW91c2VMZWF2ZVwiLCBcIm9uTW91c2VEb3duXCIsIFwib25Nb3VzZVVwXCIsIFwib25Gb2N1c1wiLCBcIm9uQmx1clwiLCBcInN0eWxlXCIsIFwiY2xhc3NOYW1lXCJdO1xudmFyIEdlb2dyYXBoeSA9IGZvcndhcmRSZWYoZnVuY3Rpb24gKF9yZWYsIHJlZikge1xuICB2YXIgZ2VvZ3JhcGh5ID0gX3JlZi5nZW9ncmFwaHksXG4gICAgICBvbk1vdXNlRW50ZXIgPSBfcmVmLm9uTW91c2VFbnRlcixcbiAgICAgIG9uTW91c2VMZWF2ZSA9IF9yZWYub25Nb3VzZUxlYXZlLFxuICAgICAgb25Nb3VzZURvd24gPSBfcmVmLm9uTW91c2VEb3duLFxuICAgICAgb25Nb3VzZVVwID0gX3JlZi5vbk1vdXNlVXAsXG4gICAgICBvbkZvY3VzID0gX3JlZi5vbkZvY3VzLFxuICAgICAgb25CbHVyID0gX3JlZi5vbkJsdXIsXG4gICAgICBfcmVmJHN0eWxlID0gX3JlZi5zdHlsZSxcbiAgICAgIHN0eWxlID0gX3JlZiRzdHlsZSA9PT0gdm9pZCAwID8ge30gOiBfcmVmJHN0eWxlLFxuICAgICAgX3JlZiRjbGFzc05hbWUgPSBfcmVmLmNsYXNzTmFtZSxcbiAgICAgIGNsYXNzTmFtZSA9IF9yZWYkY2xhc3NOYW1lID09PSB2b2lkIDAgPyBcIlwiIDogX3JlZiRjbGFzc05hbWUsXG4gICAgICByZXN0UHJvcHMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX3JlZiwgX2V4Y2x1ZGVkJDcpO1xuXG4gIHZhciBfdXNlU3RhdGUgPSB1c2VTdGF0ZShmYWxzZSksXG4gICAgICBfdXNlU3RhdGUyID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlLCAyKSxcbiAgICAgIGlzUHJlc3NlZCA9IF91c2VTdGF0ZTJbMF0sXG4gICAgICBzZXRQcmVzc2VkID0gX3VzZVN0YXRlMlsxXTtcblxuICB2YXIgX3VzZVN0YXRlMyA9IHVzZVN0YXRlKGZhbHNlKSxcbiAgICAgIF91c2VTdGF0ZTQgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUzLCAyKSxcbiAgICAgIGlzRm9jdXNlZCA9IF91c2VTdGF0ZTRbMF0sXG4gICAgICBzZXRGb2N1cyA9IF91c2VTdGF0ZTRbMV07XG5cbiAgZnVuY3Rpb24gaGFuZGxlTW91c2VFbnRlcihldnQpIHtcbiAgICBzZXRGb2N1cyh0cnVlKTtcbiAgICBpZiAob25Nb3VzZUVudGVyKSBvbk1vdXNlRW50ZXIoZXZ0KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZU1vdXNlTGVhdmUoZXZ0KSB7XG4gICAgc2V0Rm9jdXMoZmFsc2UpO1xuICAgIGlmIChpc1ByZXNzZWQpIHNldFByZXNzZWQoZmFsc2UpO1xuICAgIGlmIChvbk1vdXNlTGVhdmUpIG9uTW91c2VMZWF2ZShldnQpO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlRm9jdXMoZXZ0KSB7XG4gICAgc2V0Rm9jdXModHJ1ZSk7XG4gICAgaWYgKG9uRm9jdXMpIG9uRm9jdXMoZXZ0KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZUJsdXIoZXZ0KSB7XG4gICAgc2V0Rm9jdXMoZmFsc2UpO1xuICAgIGlmIChpc1ByZXNzZWQpIHNldFByZXNzZWQoZmFsc2UpO1xuICAgIGlmIChvbkJsdXIpIG9uQmx1cihldnQpO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlTW91c2VEb3duKGV2dCkge1xuICAgIHNldFByZXNzZWQodHJ1ZSk7XG4gICAgaWYgKG9uTW91c2VEb3duKSBvbk1vdXNlRG93bihldnQpO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlTW91c2VVcChldnQpIHtcbiAgICBzZXRQcmVzc2VkKGZhbHNlKTtcbiAgICBpZiAob25Nb3VzZVVwKSBvbk1vdXNlVXAoZXZ0KTtcbiAgfVxuXG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgX2V4dGVuZHMoe1xuICAgIHJlZjogcmVmLFxuICAgIHRhYkluZGV4OiBcIjBcIixcbiAgICBjbGFzc05hbWU6IFwicnNtLWdlb2dyYXBoeSBcIi5jb25jYXQoY2xhc3NOYW1lKSxcbiAgICBkOiBnZW9ncmFwaHkuc3ZnUGF0aCxcbiAgICBvbk1vdXNlRW50ZXI6IGhhbmRsZU1vdXNlRW50ZXIsXG4gICAgb25Nb3VzZUxlYXZlOiBoYW5kbGVNb3VzZUxlYXZlLFxuICAgIG9uRm9jdXM6IGhhbmRsZUZvY3VzLFxuICAgIG9uQmx1cjogaGFuZGxlQmx1cixcbiAgICBvbk1vdXNlRG93bjogaGFuZGxlTW91c2VEb3duLFxuICAgIG9uTW91c2VVcDogaGFuZGxlTW91c2VVcCxcbiAgICBzdHlsZTogc3R5bGVbaXNQcmVzc2VkIHx8IGlzRm9jdXNlZCA/IGlzUHJlc3NlZCA/IFwicHJlc3NlZFwiIDogXCJob3ZlclwiIDogXCJkZWZhdWx0XCJdXG4gIH0sIHJlc3RQcm9wcykpO1xufSk7XG5HZW9ncmFwaHkuZGlzcGxheU5hbWUgPSBcIkdlb2dyYXBoeVwiO1xuR2VvZ3JhcGh5LnByb3BUeXBlcyA9IHtcbiAgZ2VvZ3JhcGh5OiBQcm9wVHlwZXMub2JqZWN0LFxuICBvbk1vdXNlRW50ZXI6IFByb3BUeXBlcy5mdW5jLFxuICBvbk1vdXNlTGVhdmU6IFByb3BUeXBlcy5mdW5jLFxuICBvbk1vdXNlRG93bjogUHJvcFR5cGVzLmZ1bmMsXG4gIG9uTW91c2VVcDogUHJvcFR5cGVzLmZ1bmMsXG4gIG9uRm9jdXM6IFByb3BUeXBlcy5mdW5jLFxuICBvbkJsdXI6IFByb3BUeXBlcy5mdW5jLFxuICBzdHlsZTogUHJvcFR5cGVzLm9iamVjdCxcbiAgY2xhc3NOYW1lOiBQcm9wVHlwZXMuc3RyaW5nXG59O1xudmFyIEdlb2dyYXBoeSQxID0gbWVtbyhHZW9ncmFwaHkpO1xuXG52YXIgX2V4Y2x1ZGVkJDYgPSBbXCJmaWxsXCIsIFwic3Ryb2tlXCIsIFwic3RlcFwiLCBcImNsYXNzTmFtZVwiXTtcbnZhciBHcmF0aWN1bGUgPSBmb3J3YXJkUmVmKGZ1bmN0aW9uIChfcmVmLCByZWYpIHtcbiAgdmFyIF9yZWYkZmlsbCA9IF9yZWYuZmlsbCxcbiAgICAgIGZpbGwgPSBfcmVmJGZpbGwgPT09IHZvaWQgMCA/IFwidHJhbnNwYXJlbnRcIiA6IF9yZWYkZmlsbCxcbiAgICAgIF9yZWYkc3Ryb2tlID0gX3JlZi5zdHJva2UsXG4gICAgICBzdHJva2UgPSBfcmVmJHN0cm9rZSA9PT0gdm9pZCAwID8gXCJjdXJyZW50Y29sb3JcIiA6IF9yZWYkc3Ryb2tlLFxuICAgICAgX3JlZiRzdGVwID0gX3JlZi5zdGVwLFxuICAgICAgc3RlcCA9IF9yZWYkc3RlcCA9PT0gdm9pZCAwID8gWzEwLCAxMF0gOiBfcmVmJHN0ZXAsXG4gICAgICBfcmVmJGNsYXNzTmFtZSA9IF9yZWYuY2xhc3NOYW1lLFxuICAgICAgY2xhc3NOYW1lID0gX3JlZiRjbGFzc05hbWUgPT09IHZvaWQgMCA/IFwiXCIgOiBfcmVmJGNsYXNzTmFtZSxcbiAgICAgIHJlc3RQcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfcmVmLCBfZXhjbHVkZWQkNik7XG5cbiAgdmFyIF91c2VDb250ZXh0ID0gdXNlQ29udGV4dChNYXBDb250ZXh0KSxcbiAgICAgIHBhdGggPSBfdXNlQ29udGV4dC5wYXRoO1xuXG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgX2V4dGVuZHMoe1xuICAgIHJlZjogcmVmLFxuICAgIGQ6IHBhdGgoZ2VvR3JhdGljdWxlKCkuc3RlcChzdGVwKSgpKSxcbiAgICBmaWxsOiBmaWxsLFxuICAgIHN0cm9rZTogc3Ryb2tlLFxuICAgIGNsYXNzTmFtZTogXCJyc20tZ3JhdGljdWxlIFwiLmNvbmNhdChjbGFzc05hbWUpXG4gIH0sIHJlc3RQcm9wcykpO1xufSk7XG5HcmF0aWN1bGUuZGlzcGxheU5hbWUgPSBcIkdyYXRpY3VsZVwiO1xuR3JhdGljdWxlLnByb3BUeXBlcyA9IHtcbiAgZmlsbDogUHJvcFR5cGVzLnN0cmluZyxcbiAgc3Ryb2tlOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBzdGVwOiBQcm9wVHlwZXMuYXJyYXksXG4gIGNsYXNzTmFtZTogUHJvcFR5cGVzLnN0cmluZ1xufTtcbnZhciBHcmF0aWN1bGUkMSA9IG1lbW8oR3JhdGljdWxlKTtcblxudmFyIF9leGNsdWRlZCQ1ID0gW1widmFsdWVcIl07XG52YXIgWm9vbVBhbkNvbnRleHQgPSBjcmVhdGVDb250ZXh0KCk7XG52YXIgZGVmYXVsdFZhbHVlID0ge1xuICB4OiAwLFxuICB5OiAwLFxuICBrOiAxLFxuICB0cmFuc2Zvcm1TdHJpbmc6IFwidHJhbnNsYXRlKDAgMCkgc2NhbGUoMSlcIlxufTtcblxudmFyIFpvb21QYW5Qcm92aWRlciA9IGZ1bmN0aW9uIFpvb21QYW5Qcm92aWRlcihfcmVmKSB7XG4gIHZhciBfcmVmJHZhbHVlID0gX3JlZi52YWx1ZSxcbiAgICAgIHZhbHVlID0gX3JlZiR2YWx1ZSA9PT0gdm9pZCAwID8gZGVmYXVsdFZhbHVlIDogX3JlZiR2YWx1ZSxcbiAgICAgIHJlc3RQcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfcmVmLCBfZXhjbHVkZWQkNSk7XG5cbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFpvb21QYW5Db250ZXh0LlByb3ZpZGVyLCBfZXh0ZW5kcyh7XG4gICAgdmFsdWU6IHZhbHVlXG4gIH0sIHJlc3RQcm9wcykpO1xufTtcblxuWm9vbVBhblByb3ZpZGVyLnByb3BUeXBlcyA9IHtcbiAgeDogUHJvcFR5cGVzLm51bWJlcixcbiAgeTogUHJvcFR5cGVzLm51bWJlcixcbiAgazogUHJvcFR5cGVzLm51bWJlcixcbiAgdHJhbnNmb3JtU3RyaW5nOiBQcm9wVHlwZXMuc3RyaW5nXG59O1xuXG52YXIgdXNlWm9vbVBhbkNvbnRleHQgPSBmdW5jdGlvbiB1c2Vab29tUGFuQ29udGV4dCgpIHtcbiAgcmV0dXJuIHVzZUNvbnRleHQoWm9vbVBhbkNvbnRleHQpO1xufTtcblxuZnVuY3Rpb24gdXNlWm9vbVBhbihfcmVmKSB7XG4gIHZhciBjZW50ZXIgPSBfcmVmLmNlbnRlcixcbiAgICAgIGZpbHRlclpvb21FdmVudCA9IF9yZWYuZmlsdGVyWm9vbUV2ZW50LFxuICAgICAgb25Nb3ZlU3RhcnQgPSBfcmVmLm9uTW92ZVN0YXJ0LFxuICAgICAgb25Nb3ZlRW5kID0gX3JlZi5vbk1vdmVFbmQsXG4gICAgICBvbk1vdmUgPSBfcmVmLm9uTW92ZSxcbiAgICAgIF9yZWYkdHJhbnNsYXRlRXh0ZW50ID0gX3JlZi50cmFuc2xhdGVFeHRlbnQsXG4gICAgICB0cmFuc2xhdGVFeHRlbnQgPSBfcmVmJHRyYW5zbGF0ZUV4dGVudCA9PT0gdm9pZCAwID8gW1stSW5maW5pdHksIC1JbmZpbml0eV0sIFtJbmZpbml0eSwgSW5maW5pdHldXSA6IF9yZWYkdHJhbnNsYXRlRXh0ZW50LFxuICAgICAgX3JlZiRzY2FsZUV4dGVudCA9IF9yZWYuc2NhbGVFeHRlbnQsXG4gICAgICBzY2FsZUV4dGVudCA9IF9yZWYkc2NhbGVFeHRlbnQgPT09IHZvaWQgMCA/IFsxLCA4XSA6IF9yZWYkc2NhbGVFeHRlbnQsXG4gICAgICBfcmVmJHpvb20gPSBfcmVmLnpvb20sXG4gICAgICB6b29tJDEgPSBfcmVmJHpvb20gPT09IHZvaWQgMCA/IDEgOiBfcmVmJHpvb207XG5cbiAgdmFyIF91c2VDb250ZXh0ID0gdXNlQ29udGV4dChNYXBDb250ZXh0KSxcbiAgICAgIHdpZHRoID0gX3VzZUNvbnRleHQud2lkdGgsXG4gICAgICBoZWlnaHQgPSBfdXNlQ29udGV4dC5oZWlnaHQsXG4gICAgICBwcm9qZWN0aW9uID0gX3VzZUNvbnRleHQucHJvamVjdGlvbjtcblxuICB2YXIgX2NlbnRlciA9IF9zbGljZWRUb0FycmF5KGNlbnRlciwgMiksXG4gICAgICBsb24gPSBfY2VudGVyWzBdLFxuICAgICAgbGF0ID0gX2NlbnRlclsxXTtcblxuICB2YXIgX3VzZVN0YXRlID0gdXNlU3RhdGUoe1xuICAgIHg6IDAsXG4gICAgeTogMCxcbiAgICBrOiAxXG4gIH0pLFxuICAgICAgX3VzZVN0YXRlMiA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZSwgMiksXG4gICAgICBwb3NpdGlvbiA9IF91c2VTdGF0ZTJbMF0sXG4gICAgICBzZXRQb3NpdGlvbiA9IF91c2VTdGF0ZTJbMV07XG5cbiAgdmFyIGxhc3RQb3NpdGlvbiA9IHVzZVJlZih7XG4gICAgeDogMCxcbiAgICB5OiAwLFxuICAgIGs6IDFcbiAgfSk7XG4gIHZhciBtYXBSZWYgPSB1c2VSZWYoKTtcbiAgdmFyIHpvb21SZWYgPSB1c2VSZWYoKTtcbiAgdmFyIGJ5cGFzc0V2ZW50cyA9IHVzZVJlZihmYWxzZSk7XG5cbiAgdmFyIF90cmFuc2xhdGVFeHRlbnQgPSBfc2xpY2VkVG9BcnJheSh0cmFuc2xhdGVFeHRlbnQsIDIpLFxuICAgICAgYSA9IF90cmFuc2xhdGVFeHRlbnRbMF0sXG4gICAgICBiID0gX3RyYW5zbGF0ZUV4dGVudFsxXTtcblxuICB2YXIgX2EgPSBfc2xpY2VkVG9BcnJheShhLCAyKSxcbiAgICAgIGExID0gX2FbMF0sXG4gICAgICBhMiA9IF9hWzFdO1xuXG4gIHZhciBfYiA9IF9zbGljZWRUb0FycmF5KGIsIDIpLFxuICAgICAgYjEgPSBfYlswXSxcbiAgICAgIGIyID0gX2JbMV07XG5cbiAgdmFyIF9zY2FsZUV4dGVudCA9IF9zbGljZWRUb0FycmF5KHNjYWxlRXh0ZW50LCAyKSxcbiAgICAgIG1pblpvb20gPSBfc2NhbGVFeHRlbnRbMF0sXG4gICAgICBtYXhab29tID0gX3NjYWxlRXh0ZW50WzFdO1xuXG4gIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHN2ZyA9IHNlbGVjdChtYXBSZWYuY3VycmVudCk7XG5cbiAgICBmdW5jdGlvbiBoYW5kbGVab29tU3RhcnQoZDNFdmVudCkge1xuICAgICAgaWYgKCFvbk1vdmVTdGFydCB8fCBieXBhc3NFdmVudHMuY3VycmVudCkgcmV0dXJuO1xuICAgICAgb25Nb3ZlU3RhcnQoe1xuICAgICAgICBjb29yZGluYXRlczogcHJvamVjdGlvbi5pbnZlcnQoZ2V0Q29vcmRzKHdpZHRoLCBoZWlnaHQsIGQzRXZlbnQudHJhbnNmb3JtKSksXG4gICAgICAgIHpvb206IGQzRXZlbnQudHJhbnNmb3JtLmtcbiAgICAgIH0sIGQzRXZlbnQpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhhbmRsZVpvb20oZDNFdmVudCkge1xuICAgICAgaWYgKGJ5cGFzc0V2ZW50cy5jdXJyZW50KSByZXR1cm47XG4gICAgICB2YXIgdHJhbnNmb3JtID0gZDNFdmVudC50cmFuc2Zvcm0sXG4gICAgICAgICAgc291cmNlRXZlbnQgPSBkM0V2ZW50LnNvdXJjZUV2ZW50O1xuICAgICAgc2V0UG9zaXRpb24oe1xuICAgICAgICB4OiB0cmFuc2Zvcm0ueCxcbiAgICAgICAgeTogdHJhbnNmb3JtLnksXG4gICAgICAgIGs6IHRyYW5zZm9ybS5rLFxuICAgICAgICBkcmFnZ2luZzogc291cmNlRXZlbnRcbiAgICAgIH0pO1xuICAgICAgaWYgKCFvbk1vdmUpIHJldHVybjtcbiAgICAgIG9uTW92ZSh7XG4gICAgICAgIHg6IHRyYW5zZm9ybS54LFxuICAgICAgICB5OiB0cmFuc2Zvcm0ueSxcbiAgICAgICAgem9vbTogdHJhbnNmb3JtLmssXG4gICAgICAgIGRyYWdnaW5nOiBzb3VyY2VFdmVudFxuICAgICAgfSwgZDNFdmVudCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFuZGxlWm9vbUVuZChkM0V2ZW50KSB7XG4gICAgICBpZiAoYnlwYXNzRXZlbnRzLmN1cnJlbnQpIHtcbiAgICAgICAgYnlwYXNzRXZlbnRzLmN1cnJlbnQgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgX3Byb2plY3Rpb24kaW52ZXJ0ID0gcHJvamVjdGlvbi5pbnZlcnQoZ2V0Q29vcmRzKHdpZHRoLCBoZWlnaHQsIGQzRXZlbnQudHJhbnNmb3JtKSksXG4gICAgICAgICAgX3Byb2plY3Rpb24kaW52ZXJ0MiA9IF9zbGljZWRUb0FycmF5KF9wcm9qZWN0aW9uJGludmVydCwgMiksXG4gICAgICAgICAgeCA9IF9wcm9qZWN0aW9uJGludmVydDJbMF0sXG4gICAgICAgICAgeSA9IF9wcm9qZWN0aW9uJGludmVydDJbMV07XG5cbiAgICAgIGxhc3RQb3NpdGlvbi5jdXJyZW50ID0ge1xuICAgICAgICB4OiB4LFxuICAgICAgICB5OiB5LFxuICAgICAgICBrOiBkM0V2ZW50LnRyYW5zZm9ybS5rXG4gICAgICB9O1xuICAgICAgaWYgKCFvbk1vdmVFbmQpIHJldHVybjtcbiAgICAgIG9uTW92ZUVuZCh7XG4gICAgICAgIGNvb3JkaW5hdGVzOiBbeCwgeV0sXG4gICAgICAgIHpvb206IGQzRXZlbnQudHJhbnNmb3JtLmtcbiAgICAgIH0sIGQzRXZlbnQpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGZpbHRlckZ1bmMoZDNFdmVudCkge1xuICAgICAgaWYgKGZpbHRlclpvb21FdmVudCkge1xuICAgICAgICByZXR1cm4gZmlsdGVyWm9vbUV2ZW50KGQzRXZlbnQpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZDNFdmVudCA/ICFkM0V2ZW50LmN0cmxLZXkgJiYgIWQzRXZlbnQuYnV0dG9uIDogZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIHpvb20kMSA9IHpvb20oKS5maWx0ZXIoZmlsdGVyRnVuYykuc2NhbGVFeHRlbnQoW21pblpvb20sIG1heFpvb21dKS50cmFuc2xhdGVFeHRlbnQoW1thMSwgYTJdLCBbYjEsIGIyXV0pLm9uKFwic3RhcnRcIiwgaGFuZGxlWm9vbVN0YXJ0KS5vbihcInpvb21cIiwgaGFuZGxlWm9vbSkub24oXCJlbmRcIiwgaGFuZGxlWm9vbUVuZCk7XG4gICAgem9vbVJlZi5jdXJyZW50ID0gem9vbSQxO1xuICAgIHN2Zy5jYWxsKHpvb20kMSk7XG4gIH0sIFt3aWR0aCwgaGVpZ2h0LCBhMSwgYTIsIGIxLCBiMiwgbWluWm9vbSwgbWF4Wm9vbSwgcHJvamVjdGlvbiwgb25Nb3ZlU3RhcnQsIG9uTW92ZSwgb25Nb3ZlRW5kLCBmaWx0ZXJab29tRXZlbnRdKTtcbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAobG9uID09PSBsYXN0UG9zaXRpb24uY3VycmVudC54ICYmIGxhdCA9PT0gbGFzdFBvc2l0aW9uLmN1cnJlbnQueSAmJiB6b29tJDEgPT09IGxhc3RQb3NpdGlvbi5jdXJyZW50LmspIHJldHVybjtcbiAgICB2YXIgY29vcmRzID0gcHJvamVjdGlvbihbbG9uLCBsYXRdKTtcbiAgICB2YXIgeCA9IGNvb3Jkc1swXSAqIHpvb20kMTtcbiAgICB2YXIgeSA9IGNvb3Jkc1sxXSAqIHpvb20kMTtcbiAgICB2YXIgc3ZnID0gc2VsZWN0KG1hcFJlZi5jdXJyZW50KTtcbiAgICBieXBhc3NFdmVudHMuY3VycmVudCA9IHRydWU7XG4gICAgc3ZnLmNhbGwoem9vbVJlZi5jdXJyZW50LnRyYW5zZm9ybSwgem9vbUlkZW50aXR5LnRyYW5zbGF0ZSh3aWR0aCAvIDIgLSB4LCBoZWlnaHQgLyAyIC0geSkuc2NhbGUoem9vbSQxKSk7XG4gICAgc2V0UG9zaXRpb24oe1xuICAgICAgeDogd2lkdGggLyAyIC0geCxcbiAgICAgIHk6IGhlaWdodCAvIDIgLSB5LFxuICAgICAgazogem9vbSQxXG4gICAgfSk7XG4gICAgbGFzdFBvc2l0aW9uLmN1cnJlbnQgPSB7XG4gICAgICB4OiBsb24sXG4gICAgICB5OiBsYXQsXG4gICAgICBrOiB6b29tJDFcbiAgICB9O1xuICB9LCBbbG9uLCBsYXQsIHpvb20kMSwgd2lkdGgsIGhlaWdodCwgcHJvamVjdGlvbl0pO1xuICByZXR1cm4ge1xuICAgIG1hcFJlZjogbWFwUmVmLFxuICAgIHBvc2l0aW9uOiBwb3NpdGlvbixcbiAgICB0cmFuc2Zvcm1TdHJpbmc6IFwidHJhbnNsYXRlKFwiLmNvbmNhdChwb3NpdGlvbi54LCBcIiBcIikuY29uY2F0KHBvc2l0aW9uLnksIFwiKSBzY2FsZShcIikuY29uY2F0KHBvc2l0aW9uLmssIFwiKVwiKVxuICB9O1xufVxuXG52YXIgX2V4Y2x1ZGVkJDQgPSBbXCJjZW50ZXJcIiwgXCJ6b29tXCIsIFwibWluWm9vbVwiLCBcIm1heFpvb21cIiwgXCJ0cmFuc2xhdGVFeHRlbnRcIiwgXCJmaWx0ZXJab29tRXZlbnRcIiwgXCJvbk1vdmVTdGFydFwiLCBcIm9uTW92ZVwiLCBcIm9uTW92ZUVuZFwiLCBcImNsYXNzTmFtZVwiXTtcbnZhciBab29tYWJsZUdyb3VwID0gZm9yd2FyZFJlZihmdW5jdGlvbiAoX3JlZiwgcmVmKSB7XG4gIHZhciBfcmVmJGNlbnRlciA9IF9yZWYuY2VudGVyLFxuICAgICAgY2VudGVyID0gX3JlZiRjZW50ZXIgPT09IHZvaWQgMCA/IFswLCAwXSA6IF9yZWYkY2VudGVyLFxuICAgICAgX3JlZiR6b29tID0gX3JlZi56b29tLFxuICAgICAgem9vbSA9IF9yZWYkem9vbSA9PT0gdm9pZCAwID8gMSA6IF9yZWYkem9vbSxcbiAgICAgIF9yZWYkbWluWm9vbSA9IF9yZWYubWluWm9vbSxcbiAgICAgIG1pblpvb20gPSBfcmVmJG1pblpvb20gPT09IHZvaWQgMCA/IDEgOiBfcmVmJG1pblpvb20sXG4gICAgICBfcmVmJG1heFpvb20gPSBfcmVmLm1heFpvb20sXG4gICAgICBtYXhab29tID0gX3JlZiRtYXhab29tID09PSB2b2lkIDAgPyA4IDogX3JlZiRtYXhab29tLFxuICAgICAgdHJhbnNsYXRlRXh0ZW50ID0gX3JlZi50cmFuc2xhdGVFeHRlbnQsXG4gICAgICBmaWx0ZXJab29tRXZlbnQgPSBfcmVmLmZpbHRlclpvb21FdmVudCxcbiAgICAgIG9uTW92ZVN0YXJ0ID0gX3JlZi5vbk1vdmVTdGFydCxcbiAgICAgIG9uTW92ZSA9IF9yZWYub25Nb3ZlLFxuICAgICAgb25Nb3ZlRW5kID0gX3JlZi5vbk1vdmVFbmQsXG4gICAgICBjbGFzc05hbWUgPSBfcmVmLmNsYXNzTmFtZSxcbiAgICAgIHJlc3RQcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfcmVmLCBfZXhjbHVkZWQkNCk7XG5cbiAgdmFyIF91c2VDb250ZXh0ID0gdXNlQ29udGV4dChNYXBDb250ZXh0KSxcbiAgICAgIHdpZHRoID0gX3VzZUNvbnRleHQud2lkdGgsXG4gICAgICBoZWlnaHQgPSBfdXNlQ29udGV4dC5oZWlnaHQ7XG5cbiAgdmFyIF91c2Vab29tUGFuID0gdXNlWm9vbVBhbih7XG4gICAgY2VudGVyOiBjZW50ZXIsXG4gICAgZmlsdGVyWm9vbUV2ZW50OiBmaWx0ZXJab29tRXZlbnQsXG4gICAgb25Nb3ZlU3RhcnQ6IG9uTW92ZVN0YXJ0LFxuICAgIG9uTW92ZTogb25Nb3ZlLFxuICAgIG9uTW92ZUVuZDogb25Nb3ZlRW5kLFxuICAgIHNjYWxlRXh0ZW50OiBbbWluWm9vbSwgbWF4Wm9vbV0sXG4gICAgdHJhbnNsYXRlRXh0ZW50OiB0cmFuc2xhdGVFeHRlbnQsXG4gICAgem9vbTogem9vbVxuICB9KSxcbiAgICAgIG1hcFJlZiA9IF91c2Vab29tUGFuLm1hcFJlZixcbiAgICAgIHRyYW5zZm9ybVN0cmluZyA9IF91c2Vab29tUGFuLnRyYW5zZm9ybVN0cmluZyxcbiAgICAgIHBvc2l0aW9uID0gX3VzZVpvb21QYW4ucG9zaXRpb247XG5cbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFpvb21QYW5Qcm92aWRlciwge1xuICAgIHZhbHVlOiB7XG4gICAgICB4OiBwb3NpdGlvbi54LFxuICAgICAgeTogcG9zaXRpb24ueSxcbiAgICAgIGs6IHBvc2l0aW9uLmssXG4gICAgICB0cmFuc2Zvcm1TdHJpbmc6IHRyYW5zZm9ybVN0cmluZ1xuICAgIH1cbiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJnXCIsIHtcbiAgICByZWY6IG1hcFJlZlxuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInJlY3RcIiwge1xuICAgIHdpZHRoOiB3aWR0aCxcbiAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICBmaWxsOiBcInRyYW5zcGFyZW50XCJcbiAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZ1wiLCBfZXh0ZW5kcyh7XG4gICAgcmVmOiByZWYsXG4gICAgdHJhbnNmb3JtOiB0cmFuc2Zvcm1TdHJpbmcsXG4gICAgY2xhc3NOYW1lOiBcInJzbS16b29tYWJsZS1ncm91cCBcIi5jb25jYXQoY2xhc3NOYW1lKVxuICB9LCByZXN0UHJvcHMpKSkpO1xufSk7XG5ab29tYWJsZUdyb3VwLmRpc3BsYXlOYW1lID0gXCJab29tYWJsZUdyb3VwXCI7XG5ab29tYWJsZUdyb3VwLnByb3BUeXBlcyA9IHtcbiAgY2VudGVyOiBQcm9wVHlwZXMuYXJyYXksXG4gIHpvb206IFByb3BUeXBlcy5udW1iZXIsXG4gIG1pblpvb206IFByb3BUeXBlcy5udW1iZXIsXG4gIG1heFpvb206IFByb3BUeXBlcy5udW1iZXIsXG4gIHRyYW5zbGF0ZUV4dGVudDogUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLmFycmF5KSxcbiAgb25Nb3ZlU3RhcnQ6IFByb3BUeXBlcy5mdW5jLFxuICBvbk1vdmU6IFByb3BUeXBlcy5mdW5jLFxuICBvbk1vdmVFbmQ6IFByb3BUeXBlcy5mdW5jLFxuICBjbGFzc05hbWU6IFByb3BUeXBlcy5zdHJpbmdcbn07XG5cbnZhciBfZXhjbHVkZWQkMyA9IFtcImlkXCIsIFwiZmlsbFwiLCBcInN0cm9rZVwiLCBcInN0cm9rZVdpZHRoXCIsIFwiY2xhc3NOYW1lXCJdO1xudmFyIFNwaGVyZSA9IGZvcndhcmRSZWYoZnVuY3Rpb24gKF9yZWYsIHJlZikge1xuICB2YXIgX3JlZiRpZCA9IF9yZWYuaWQsXG4gICAgICBpZCA9IF9yZWYkaWQgPT09IHZvaWQgMCA/IFwicnNtLXNwaGVyZVwiIDogX3JlZiRpZCxcbiAgICAgIF9yZWYkZmlsbCA9IF9yZWYuZmlsbCxcbiAgICAgIGZpbGwgPSBfcmVmJGZpbGwgPT09IHZvaWQgMCA/IFwidHJhbnNwYXJlbnRcIiA6IF9yZWYkZmlsbCxcbiAgICAgIF9yZWYkc3Ryb2tlID0gX3JlZi5zdHJva2UsXG4gICAgICBzdHJva2UgPSBfcmVmJHN0cm9rZSA9PT0gdm9pZCAwID8gXCJjdXJyZW50Y29sb3JcIiA6IF9yZWYkc3Ryb2tlLFxuICAgICAgX3JlZiRzdHJva2VXaWR0aCA9IF9yZWYuc3Ryb2tlV2lkdGgsXG4gICAgICBzdHJva2VXaWR0aCA9IF9yZWYkc3Ryb2tlV2lkdGggPT09IHZvaWQgMCA/IDAuNSA6IF9yZWYkc3Ryb2tlV2lkdGgsXG4gICAgICBfcmVmJGNsYXNzTmFtZSA9IF9yZWYuY2xhc3NOYW1lLFxuICAgICAgY2xhc3NOYW1lID0gX3JlZiRjbGFzc05hbWUgPT09IHZvaWQgMCA/IFwiXCIgOiBfcmVmJGNsYXNzTmFtZSxcbiAgICAgIHJlc3RQcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfcmVmLCBfZXhjbHVkZWQkMyk7XG5cbiAgdmFyIF91c2VDb250ZXh0ID0gdXNlQ29udGV4dChNYXBDb250ZXh0KSxcbiAgICAgIHBhdGggPSBfdXNlQ29udGV4dC5wYXRoO1xuXG4gIHZhciBzcGhlcmVQYXRoID0gdXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHBhdGgoe1xuICAgICAgdHlwZTogXCJTcGhlcmVcIlxuICAgIH0pO1xuICB9LCBbcGF0aF0pO1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRnJhZ21lbnQsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGVmc1wiLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImNsaXBQYXRoXCIsIHtcbiAgICBpZDogaWRcbiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBkOiBzcGhlcmVQYXRoXG4gIH0pKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCBfZXh0ZW5kcyh7XG4gICAgcmVmOiByZWYsXG4gICAgZDogc3BoZXJlUGF0aCxcbiAgICBmaWxsOiBmaWxsLFxuICAgIHN0cm9rZTogc3Ryb2tlLFxuICAgIHN0cm9rZVdpZHRoOiBzdHJva2VXaWR0aCxcbiAgICBzdHlsZToge1xuICAgICAgcG9pbnRlckV2ZW50czogXCJub25lXCJcbiAgICB9LFxuICAgIGNsYXNzTmFtZTogXCJyc20tc3BoZXJlIFwiLmNvbmNhdChjbGFzc05hbWUpXG4gIH0sIHJlc3RQcm9wcykpKTtcbn0pO1xuU3BoZXJlLmRpc3BsYXlOYW1lID0gXCJTcGhlcmVcIjtcblNwaGVyZS5wcm9wVHlwZXMgPSB7XG4gIGlkOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBmaWxsOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBzdHJva2U6IFByb3BUeXBlcy5zdHJpbmcsXG4gIHN0cm9rZVdpZHRoOiBQcm9wVHlwZXMubnVtYmVyLFxuICBjbGFzc05hbWU6IFByb3BUeXBlcy5zdHJpbmdcbn07XG52YXIgU3BoZXJlJDEgPSBtZW1vKFNwaGVyZSk7XG5cbnZhciBfZXhjbHVkZWQkMiA9IFtcImNvb3JkaW5hdGVzXCIsIFwiY2hpbGRyZW5cIiwgXCJvbk1vdXNlRW50ZXJcIiwgXCJvbk1vdXNlTGVhdmVcIiwgXCJvbk1vdXNlRG93blwiLCBcIm9uTW91c2VVcFwiLCBcIm9uRm9jdXNcIiwgXCJvbkJsdXJcIiwgXCJzdHlsZVwiLCBcImNsYXNzTmFtZVwiXTtcbnZhciBNYXJrZXIgPSBmb3J3YXJkUmVmKGZ1bmN0aW9uIChfcmVmLCByZWYpIHtcbiAgdmFyIGNvb3JkaW5hdGVzID0gX3JlZi5jb29yZGluYXRlcyxcbiAgICAgIGNoaWxkcmVuID0gX3JlZi5jaGlsZHJlbixcbiAgICAgIG9uTW91c2VFbnRlciA9IF9yZWYub25Nb3VzZUVudGVyLFxuICAgICAgb25Nb3VzZUxlYXZlID0gX3JlZi5vbk1vdXNlTGVhdmUsXG4gICAgICBvbk1vdXNlRG93biA9IF9yZWYub25Nb3VzZURvd24sXG4gICAgICBvbk1vdXNlVXAgPSBfcmVmLm9uTW91c2VVcCxcbiAgICAgIG9uRm9jdXMgPSBfcmVmLm9uRm9jdXMsXG4gICAgICBvbkJsdXIgPSBfcmVmLm9uQmx1cixcbiAgICAgIF9yZWYkc3R5bGUgPSBfcmVmLnN0eWxlLFxuICAgICAgc3R5bGUgPSBfcmVmJHN0eWxlID09PSB2b2lkIDAgPyB7fSA6IF9yZWYkc3R5bGUsXG4gICAgICBfcmVmJGNsYXNzTmFtZSA9IF9yZWYuY2xhc3NOYW1lLFxuICAgICAgY2xhc3NOYW1lID0gX3JlZiRjbGFzc05hbWUgPT09IHZvaWQgMCA/IFwiXCIgOiBfcmVmJGNsYXNzTmFtZSxcbiAgICAgIHJlc3RQcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfcmVmLCBfZXhjbHVkZWQkMik7XG5cbiAgdmFyIF91c2VDb250ZXh0ID0gdXNlQ29udGV4dChNYXBDb250ZXh0KSxcbiAgICAgIHByb2plY3Rpb24gPSBfdXNlQ29udGV4dC5wcm9qZWN0aW9uO1xuXG4gIHZhciBfdXNlU3RhdGUgPSB1c2VTdGF0ZShmYWxzZSksXG4gICAgICBfdXNlU3RhdGUyID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlLCAyKSxcbiAgICAgIGlzUHJlc3NlZCA9IF91c2VTdGF0ZTJbMF0sXG4gICAgICBzZXRQcmVzc2VkID0gX3VzZVN0YXRlMlsxXTtcblxuICB2YXIgX3VzZVN0YXRlMyA9IHVzZVN0YXRlKGZhbHNlKSxcbiAgICAgIF91c2VTdGF0ZTQgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUzLCAyKSxcbiAgICAgIGlzRm9jdXNlZCA9IF91c2VTdGF0ZTRbMF0sXG4gICAgICBzZXRGb2N1cyA9IF91c2VTdGF0ZTRbMV07XG5cbiAgdmFyIF9wcm9qZWN0aW9uID0gcHJvamVjdGlvbihjb29yZGluYXRlcyksXG4gICAgICBfcHJvamVjdGlvbjIgPSBfc2xpY2VkVG9BcnJheShfcHJvamVjdGlvbiwgMiksXG4gICAgICB4ID0gX3Byb2plY3Rpb24yWzBdLFxuICAgICAgeSA9IF9wcm9qZWN0aW9uMlsxXTtcblxuICBmdW5jdGlvbiBoYW5kbGVNb3VzZUVudGVyKGV2dCkge1xuICAgIHNldEZvY3VzKHRydWUpO1xuICAgIGlmIChvbk1vdXNlRW50ZXIpIG9uTW91c2VFbnRlcihldnQpO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlTW91c2VMZWF2ZShldnQpIHtcbiAgICBzZXRGb2N1cyhmYWxzZSk7XG4gICAgaWYgKGlzUHJlc3NlZCkgc2V0UHJlc3NlZChmYWxzZSk7XG4gICAgaWYgKG9uTW91c2VMZWF2ZSkgb25Nb3VzZUxlYXZlKGV2dCk7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVGb2N1cyhldnQpIHtcbiAgICBzZXRGb2N1cyh0cnVlKTtcbiAgICBpZiAob25Gb2N1cykgb25Gb2N1cyhldnQpO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlQmx1cihldnQpIHtcbiAgICBzZXRGb2N1cyhmYWxzZSk7XG4gICAgaWYgKGlzUHJlc3NlZCkgc2V0UHJlc3NlZChmYWxzZSk7XG4gICAgaWYgKG9uQmx1cikgb25CbHVyKGV2dCk7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVNb3VzZURvd24oZXZ0KSB7XG4gICAgc2V0UHJlc3NlZCh0cnVlKTtcbiAgICBpZiAob25Nb3VzZURvd24pIG9uTW91c2VEb3duKGV2dCk7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVNb3VzZVVwKGV2dCkge1xuICAgIHNldFByZXNzZWQoZmFsc2UpO1xuICAgIGlmIChvbk1vdXNlVXApIG9uTW91c2VVcChldnQpO1xuICB9XG5cbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZ1wiLCBfZXh0ZW5kcyh7XG4gICAgcmVmOiByZWYsXG4gICAgdHJhbnNmb3JtOiBcInRyYW5zbGF0ZShcIi5jb25jYXQoeCwgXCIsIFwiKS5jb25jYXQoeSwgXCIpXCIpLFxuICAgIGNsYXNzTmFtZTogXCJyc20tbWFya2VyIFwiLmNvbmNhdChjbGFzc05hbWUpLFxuICAgIG9uTW91c2VFbnRlcjogaGFuZGxlTW91c2VFbnRlcixcbiAgICBvbk1vdXNlTGVhdmU6IGhhbmRsZU1vdXNlTGVhdmUsXG4gICAgb25Gb2N1czogaGFuZGxlRm9jdXMsXG4gICAgb25CbHVyOiBoYW5kbGVCbHVyLFxuICAgIG9uTW91c2VEb3duOiBoYW5kbGVNb3VzZURvd24sXG4gICAgb25Nb3VzZVVwOiBoYW5kbGVNb3VzZVVwLFxuICAgIHN0eWxlOiBzdHlsZVtpc1ByZXNzZWQgfHwgaXNGb2N1c2VkID8gaXNQcmVzc2VkID8gXCJwcmVzc2VkXCIgOiBcImhvdmVyXCIgOiBcImRlZmF1bHRcIl1cbiAgfSwgcmVzdFByb3BzKSwgY2hpbGRyZW4pO1xufSk7XG5NYXJrZXIuZGlzcGxheU5hbWUgPSBcIk1hcmtlclwiO1xuTWFya2VyLnByb3BUeXBlcyA9IHtcbiAgY29vcmRpbmF0ZXM6IFByb3BUeXBlcy5hcnJheSxcbiAgY2hpbGRyZW46IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5ub2RlLCBQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMubm9kZSldKSxcbiAgb25Nb3VzZUVudGVyOiBQcm9wVHlwZXMuZnVuYyxcbiAgb25Nb3VzZUxlYXZlOiBQcm9wVHlwZXMuZnVuYyxcbiAgb25Nb3VzZURvd246IFByb3BUeXBlcy5mdW5jLFxuICBvbk1vdXNlVXA6IFByb3BUeXBlcy5mdW5jLFxuICBvbkZvY3VzOiBQcm9wVHlwZXMuZnVuYyxcbiAgb25CbHVyOiBQcm9wVHlwZXMuZnVuYyxcbiAgc3R5bGU6IFByb3BUeXBlcy5vYmplY3QsXG4gIGNsYXNzTmFtZTogUHJvcFR5cGVzLnN0cmluZ1xufTtcblxudmFyIF9leGNsdWRlZCQxID0gW1wiZnJvbVwiLCBcInRvXCIsIFwiY29vcmRpbmF0ZXNcIiwgXCJzdHJva2VcIiwgXCJzdHJva2VXaWR0aFwiLCBcImZpbGxcIiwgXCJjbGFzc05hbWVcIl07XG52YXIgTGluZSA9IGZvcndhcmRSZWYoZnVuY3Rpb24gKF9yZWYsIHJlZikge1xuICB2YXIgX3JlZiRmcm9tID0gX3JlZi5mcm9tLFxuICAgICAgZnJvbSA9IF9yZWYkZnJvbSA9PT0gdm9pZCAwID8gWzAsIDBdIDogX3JlZiRmcm9tLFxuICAgICAgX3JlZiR0byA9IF9yZWYudG8sXG4gICAgICB0byA9IF9yZWYkdG8gPT09IHZvaWQgMCA/IFswLCAwXSA6IF9yZWYkdG8sXG4gICAgICBjb29yZGluYXRlcyA9IF9yZWYuY29vcmRpbmF0ZXMsXG4gICAgICBfcmVmJHN0cm9rZSA9IF9yZWYuc3Ryb2tlLFxuICAgICAgc3Ryb2tlID0gX3JlZiRzdHJva2UgPT09IHZvaWQgMCA/IFwiY3VycmVudGNvbG9yXCIgOiBfcmVmJHN0cm9rZSxcbiAgICAgIF9yZWYkc3Ryb2tlV2lkdGggPSBfcmVmLnN0cm9rZVdpZHRoLFxuICAgICAgc3Ryb2tlV2lkdGggPSBfcmVmJHN0cm9rZVdpZHRoID09PSB2b2lkIDAgPyAzIDogX3JlZiRzdHJva2VXaWR0aCxcbiAgICAgIF9yZWYkZmlsbCA9IF9yZWYuZmlsbCxcbiAgICAgIGZpbGwgPSBfcmVmJGZpbGwgPT09IHZvaWQgMCA/IFwidHJhbnNwYXJlbnRcIiA6IF9yZWYkZmlsbCxcbiAgICAgIF9yZWYkY2xhc3NOYW1lID0gX3JlZi5jbGFzc05hbWUsXG4gICAgICBjbGFzc05hbWUgPSBfcmVmJGNsYXNzTmFtZSA9PT0gdm9pZCAwID8gXCJcIiA6IF9yZWYkY2xhc3NOYW1lLFxuICAgICAgcmVzdFByb3BzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9yZWYsIF9leGNsdWRlZCQxKTtcblxuICB2YXIgX3VzZUNvbnRleHQgPSB1c2VDb250ZXh0KE1hcENvbnRleHQpLFxuICAgICAgcGF0aCA9IF91c2VDb250ZXh0LnBhdGg7XG5cbiAgdmFyIGxpbmVEYXRhID0ge1xuICAgIHR5cGU6IFwiTGluZVN0cmluZ1wiLFxuICAgIGNvb3JkaW5hdGVzOiBjb29yZGluYXRlcyB8fCBbZnJvbSwgdG9dXG4gIH07XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgX2V4dGVuZHMoe1xuICAgIHJlZjogcmVmLFxuICAgIGQ6IHBhdGgobGluZURhdGEpLFxuICAgIGNsYXNzTmFtZTogXCJyc20tbGluZSBcIi5jb25jYXQoY2xhc3NOYW1lKSxcbiAgICBzdHJva2U6IHN0cm9rZSxcbiAgICBzdHJva2VXaWR0aDogc3Ryb2tlV2lkdGgsXG4gICAgZmlsbDogZmlsbFxuICB9LCByZXN0UHJvcHMpKTtcbn0pO1xuTGluZS5kaXNwbGF5TmFtZSA9IFwiTGluZVwiO1xuTGluZS5wcm9wVHlwZXMgPSB7XG4gIGZyb206IFByb3BUeXBlcy5hcnJheSxcbiAgdG86IFByb3BUeXBlcy5hcnJheSxcbiAgY29vcmRpbmF0ZXM6IFByb3BUeXBlcy5hcnJheSxcbiAgc3Ryb2tlOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBzdHJva2VXaWR0aDogUHJvcFR5cGVzLm51bWJlcixcbiAgZmlsbDogUHJvcFR5cGVzLnN0cmluZyxcbiAgY2xhc3NOYW1lOiBQcm9wVHlwZXMuc3RyaW5nXG59O1xuXG52YXIgX2V4Y2x1ZGVkID0gW1wic3ViamVjdFwiLCBcImNoaWxkcmVuXCIsIFwiY29ubmVjdG9yUHJvcHNcIiwgXCJkeFwiLCBcImR5XCIsIFwiY3VydmVcIiwgXCJjbGFzc05hbWVcIl07XG52YXIgQW5ub3RhdGlvbiA9IGZvcndhcmRSZWYoZnVuY3Rpb24gKF9yZWYsIHJlZikge1xuICB2YXIgc3ViamVjdCA9IF9yZWYuc3ViamVjdCxcbiAgICAgIGNoaWxkcmVuID0gX3JlZi5jaGlsZHJlbixcbiAgICAgIGNvbm5lY3RvclByb3BzID0gX3JlZi5jb25uZWN0b3JQcm9wcyxcbiAgICAgIF9yZWYkZHggPSBfcmVmLmR4LFxuICAgICAgZHggPSBfcmVmJGR4ID09PSB2b2lkIDAgPyAzMCA6IF9yZWYkZHgsXG4gICAgICBfcmVmJGR5ID0gX3JlZi5keSxcbiAgICAgIGR5ID0gX3JlZiRkeSA9PT0gdm9pZCAwID8gMzAgOiBfcmVmJGR5LFxuICAgICAgX3JlZiRjdXJ2ZSA9IF9yZWYuY3VydmUsXG4gICAgICBjdXJ2ZSA9IF9yZWYkY3VydmUgPT09IHZvaWQgMCA/IDAgOiBfcmVmJGN1cnZlLFxuICAgICAgX3JlZiRjbGFzc05hbWUgPSBfcmVmLmNsYXNzTmFtZSxcbiAgICAgIGNsYXNzTmFtZSA9IF9yZWYkY2xhc3NOYW1lID09PSB2b2lkIDAgPyBcIlwiIDogX3JlZiRjbGFzc05hbWUsXG4gICAgICByZXN0UHJvcHMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX3JlZiwgX2V4Y2x1ZGVkKTtcblxuICB2YXIgX3VzZUNvbnRleHQgPSB1c2VDb250ZXh0KE1hcENvbnRleHQpLFxuICAgICAgcHJvamVjdGlvbiA9IF91c2VDb250ZXh0LnByb2plY3Rpb247XG5cbiAgdmFyIF9wcm9qZWN0aW9uID0gcHJvamVjdGlvbihzdWJqZWN0KSxcbiAgICAgIF9wcm9qZWN0aW9uMiA9IF9zbGljZWRUb0FycmF5KF9wcm9qZWN0aW9uLCAyKSxcbiAgICAgIHggPSBfcHJvamVjdGlvbjJbMF0sXG4gICAgICB5ID0gX3Byb2plY3Rpb24yWzFdO1xuXG4gIHZhciBjb25uZWN0b3JQYXRoID0gY3JlYXRlQ29ubmVjdG9yUGF0aChkeCwgZHksIGN1cnZlKTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZ1wiLCBfZXh0ZW5kcyh7XG4gICAgcmVmOiByZWYsXG4gICAgdHJhbnNmb3JtOiBcInRyYW5zbGF0ZShcIi5jb25jYXQoeCArIGR4LCBcIiwgXCIpLmNvbmNhdCh5ICsgZHksIFwiKVwiKSxcbiAgICBjbGFzc05hbWU6IFwicnNtLWFubm90YXRpb24gXCIuY29uY2F0KGNsYXNzTmFtZSlcbiAgfSwgcmVzdFByb3BzKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIF9leHRlbmRzKHtcbiAgICBkOiBjb25uZWN0b3JQYXRoLFxuICAgIGZpbGw6IFwidHJhbnNwYXJlbnRcIixcbiAgICBzdHJva2U6IFwiIzAwMFwiXG4gIH0sIGNvbm5lY3RvclByb3BzKSksIGNoaWxkcmVuKTtcbn0pO1xuQW5ub3RhdGlvbi5kaXNwbGF5TmFtZSA9IFwiQW5ub3RhdGlvblwiO1xuQW5ub3RhdGlvbi5wcm9wVHlwZXMgPSB7XG4gIHN1YmplY3Q6IFByb3BUeXBlcy5hcnJheSxcbiAgY2hpbGRyZW46IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5ub2RlLCBQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMubm9kZSldKSxcbiAgZHg6IFByb3BUeXBlcy5udW1iZXIsXG4gIGR5OiBQcm9wVHlwZXMubnVtYmVyLFxuICBjdXJ2ZTogUHJvcFR5cGVzLm51bWJlcixcbiAgY29ubmVjdG9yUHJvcHM6IFByb3BUeXBlcy5vYmplY3QsXG4gIGNsYXNzTmFtZTogUHJvcFR5cGVzLnN0cmluZ1xufTtcblxuZXhwb3J0IHsgQW5ub3RhdGlvbiwgQ29tcG9zYWJsZU1hcCwgR2VvZ3JhcGhpZXMsIEdlb2dyYXBoeSQxIGFzIEdlb2dyYXBoeSwgR3JhdGljdWxlJDEgYXMgR3JhdGljdWxlLCBMaW5lLCBNYXBDb250ZXh0LCBNYXBQcm92aWRlciwgTWFya2VyLCBTcGhlcmUkMSBhcyBTcGhlcmUsIFpvb21QYW5Db250ZXh0LCBab29tUGFuUHJvdmlkZXIsIFpvb21hYmxlR3JvdXAsIHVzZUdlb2dyYXBoaWVzLCB1c2VNYXBDb250ZXh0LCB1c2Vab29tUGFuLCB1c2Vab29tUGFuQ29udGV4dCB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/react-simple-maps/dist/index.es.js\n");

/***/ })

};
;